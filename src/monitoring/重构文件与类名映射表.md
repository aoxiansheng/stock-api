# ğŸ“‹ Monitoringç»„ä»¶é‡æ„ - æ–‡ä»¶ä¸ç±»åæ˜ å°„è¡¨

> éµå¾ªåŸåˆ™ï¼šæ–‡ä»¶åä¸çˆ¶ç›®å½•åä¿æŒä¸€è‡´ï¼Œç±»åä¸æ–‡ä»¶åä¿æŒä¸€è‡´

## ğŸ¯ é‡æ„åŸåˆ™

1. **æ–‡ä»¶å‘½åè§„èŒƒ**
   - ä¸»æœåŠ¡æ–‡ä»¶ï¼š`{directory-name}.service.ts`
   - ä¸»æ§åˆ¶å™¨æ–‡ä»¶ï¼š`{directory-name}.controller.ts`
   - ä¸»æ¨¡å—æ–‡ä»¶ï¼š`{directory-name}.module.ts`
   - å­åŠŸèƒ½æ–‡ä»¶ï¼š`{directory-name}-{feature}.service.ts`

2. **ç±»å‘½åè§„èŒƒ**
   - æœåŠ¡ç±»ï¼š`{PascalCase}Service`
   - æ§åˆ¶å™¨ç±»ï¼š`{PascalCase}Controller`
   - æ¨¡å—ç±»ï¼š`{PascalCase}Module`
   - æ‹¦æˆªå™¨ç±»ï¼š`{PascalCase}Interceptor`
   - ä»“åº“ç±»ï¼š`{PascalCase}Repository`

## ğŸ“ Infrastructureå±‚ é‡æ„æ˜ å°„

### æ–‡ä»¶åæ˜ å°„è¡¨

| å½“å‰æ–‡ä»¶è·¯å¾„ | ç›®æ ‡æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|------------|------------|---------|
| `infrastructure/infrastructure.module.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `infrastructure/metrics/infrastructure-metrics.module.ts` | `infrastructure/metrics/metrics.module.ts` | å»é™¤å†—ä½™å‰ç¼€ |
| `infrastructure/metrics/infrastructure-metrics.constants.ts` | `infrastructure/metrics/metrics.constants.ts` | å»é™¤å†—ä½™å‰ç¼€ |
| `infrastructure/metrics/infrastructure-metrics-registry.service.ts` | `infrastructure/metrics/metrics-registry.service.ts` | å»é™¤å†—ä½™å‰ç¼€ |
| `infrastructure/interceptors/infrastructure-performance.interceptor.ts` | `infrastructure/interceptors/infrastructure.interceptor.ts` | ä¸»æ‹¦æˆªå™¨ |
| `infrastructure/interceptors/infrastructure-metrics.interceptor.ts` | `infrastructure/interceptors/infrastructure-metrics.interceptor.ts` | å­åŠŸèƒ½æ‹¦æˆªå™¨ |
| `infrastructure/decorators/infrastructure-monitoring-config.decorator.ts` | `infrastructure/decorators/infrastructure-config.decorator.ts` | ç®€åŒ–å‘½å |
| `infrastructure/decorators/infrastructure-database-performance.decorator.ts` | `infrastructure/decorators/infrastructure-database.decorator.ts` | ç®€åŒ–å‘½å |
| `infrastructure/helper/metrics-helper.ts` | `infrastructure/helper/infrastructure-helper.ts` | ä¸ç›®å½•ä¸€è‡´ |
| **æ–°å¢** | `infrastructure/infrastructure.service.ts` | åŸºç¡€è®¾æ–½ä¸»æœåŠ¡ |
| **æ–°å¢** | `infrastructure/infrastructure-cache.service.ts` | ç¼“å­˜æœåŠ¡ |
| **æ–°å¢** | `infrastructure/infrastructure-lock.service.ts` | åˆ†å¸ƒå¼é”æœåŠ¡ |
| **æ–°å¢** | `infrastructure/infrastructure-sanitizer.service.ts` | æ•°æ®è„±æ•æœåŠ¡ |

### ç±»åæ˜ å°„è¡¨

| å½“å‰ç±»å | ç›®æ ‡ç±»å | æ–‡ä»¶ä½ç½® |
|---------|---------|---------|
| `InfrastructureMetricsRegistryService` | `MetricsRegistryService` | `metrics/metrics-registry.service.ts` |
| `InfrastructurePerformanceInterceptor` | `InfrastructureInterceptor` | `interceptors/infrastructure.interceptor.ts` |
| `InfrastructureMetricsInterceptor` | `InfrastructureMetricsInterceptor` | `interceptors/infrastructure-metrics.interceptor.ts` |
| **æ–°å¢** | `InfrastructureService` | `infrastructure.service.ts` |
| **æ–°å¢** | `InfrastructureCacheService` | `infrastructure-cache.service.ts` |
| **æ–°å¢** | `InfrastructureLockService` | `infrastructure-lock.service.ts` |
| **æ–°å¢** | `InfrastructureSanitizerService` | `infrastructure-sanitizer.service.ts` |

## ğŸ“Š Collectorå±‚ é‡æ„æ˜ å°„

### æ–‡ä»¶åæ˜ å°„è¡¨

| å½“å‰æ–‡ä»¶è·¯å¾„ | ç›®æ ‡æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|------------|------------|---------|
| `collector/collector.module.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `collector/services/collector.service.ts` | `collector/collector.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `collector/interceptors/collector.interceptor.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `collector/repositories/collector.repository.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| **æ–°å¢** | `collector/collector-validation.service.ts` | æ•°æ®éªŒè¯æœåŠ¡ |
| **æ–°å¢** | `collector/collector-task.service.ts` | å¼‚æ­¥ä»»åŠ¡æœåŠ¡ |

### ç±»åæ˜ å°„è¡¨

| å½“å‰ç±»å | ç›®æ ‡ç±»å | æ–‡ä»¶ä½ç½® |
|---------|---------|---------|
| `CollectorService` | âœ… ä¿æŒä¸å˜ | `collector.service.ts` |
| `CollectorInterceptor` | âœ… ä¿æŒä¸å˜ | `collector.interceptor.ts` |
| `CollectorRepository` | âœ… ä¿æŒä¸å˜ | `collector.repository.ts` |
| **æ–°å¢** | `CollectorValidationService` | `collector-validation.service.ts` |
| **æ–°å¢** | `CollectorTaskService` | `collector-task.service.ts` |

## ğŸ§  Analyzerå±‚ é‡æ„æ˜ å°„

### æ–‡ä»¶åæ˜ å°„è¡¨

| å½“å‰æ–‡ä»¶è·¯å¾„ | ç›®æ ‡æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|------------|------------|---------|
| `analyzer/analyzer.module.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `analyzer/services/analyzer.service.ts` | `analyzer/analyzer.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `analyzer/services/analyzer-health.service.ts` | `analyzer/analyzer-health.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `analyzer/services/analyzer-trend.service.ts` | `analyzer/analyzer-trend.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `analyzer/cache/analyzer-cache.service.ts` | `analyzer/analyzer-cache.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `analyzer/calculators/analyzer-metrics.calculator.ts` | `analyzer/analyzer-metrics.service.ts` | æ”¹ä¸ºservice |
| `analyzer/calculators/analyzer-health-score.calculator.ts` | `analyzer/analyzer-score.service.ts` | æ”¹ä¸ºservice |
| **æ–°å¢** | `analyzer/analyzer.repository.ts` | åˆ†ææ•°æ®ä»“åº“ |
| **æ–°å¢** | `analyzer/analyzer-engine.service.ts` | ç»Ÿè®¡å¼•æ“æœåŠ¡ |

### ç±»åæ˜ å°„è¡¨

| å½“å‰ç±»å | ç›®æ ‡ç±»å | æ–‡ä»¶ä½ç½® |
|---------|---------|---------|
| `AnalyzerService` | âœ… ä¿æŒä¸å˜ | `analyzer.service.ts` |
| `HealthAnalyzerService` | `AnalyzerHealthService` | `analyzer-health.service.ts` |
| `TrendAnalyzerService` | `AnalyzerTrendService` | `analyzer-trend.service.ts` |
| `AnalyzerCacheService` | âœ… ä¿æŒä¸å˜ | `analyzer-cache.service.ts` |
| **æ–°å¢** | `AnalyzerRepository` | `analyzer.repository.ts` |
| **æ–°å¢** | `AnalyzerEngineService` | `analyzer-engine.service.ts` |
| **æ–°å¢** | `AnalyzerMetricsService` | `analyzer-metrics.service.ts` |
| **æ–°å¢** | `AnalyzerScoreService` | `analyzer-score.service.ts` |

## ğŸ“ˆ Presenterå±‚ é‡æ„æ˜ å°„

### æ–‡ä»¶åæ˜ å°„è¡¨

| å½“å‰æ–‡ä»¶è·¯å¾„ | ç›®æ ‡æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|------------|------------|---------|
| `presenter/presenter.module.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `presenter/controllers/presenter.controller.ts` | `presenter/presenter.controller.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `presenter/services/presenter.service.ts` | `presenter/presenter.service.ts` | ç§»åˆ°æ ¹ç›®å½• |
| `presenter/services/presenter-error-handler.service.ts` | `presenter/presenter-error.service.ts` | ç®€åŒ–å‘½å |
| `presenter/dto/presenter-response.dto.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| `presenter/dto/presenter-query.dto.ts` | âœ… ä¿æŒä¸å˜ | å·²ç¬¦åˆè§„èŒƒ |
| **æ–°å¢** | `presenter/presenter-formatter.service.ts` | æ ¼å¼åŒ–æœåŠ¡ |
| **æ–°å¢** | `presenter/presenter-report.service.ts` | æŠ¥å‘Šç”ŸæˆæœåŠ¡ |

### ç±»åæ˜ å°„è¡¨

| å½“å‰ç±»å | ç›®æ ‡ç±»å | æ–‡ä»¶ä½ç½® |
|---------|---------|---------|
| `PresenterController` | âœ… ä¿æŒä¸å˜ | `presenter.controller.ts` |
| `PresenterService` | âœ… ä¿æŒä¸å˜ | `presenter.service.ts` |
| `PresenterErrorHandlerService` | `PresenterErrorService` | `presenter-error.service.ts` |
| **æ–°å¢** | `PresenterFormatterService` | `presenter-formatter.service.ts` |
| **æ–°å¢** | `PresenterReportService` | `presenter-report.service.ts` |

## ğŸ”§ Shared/Contractså±‚ é‡æ„æ˜ å°„

### æ–‡ä»¶åæ˜ å°„è¡¨

| å½“å‰æ–‡ä»¶è·¯å¾„ | ç›®æ ‡æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|------------|------------|---------|
| `shared/types/monitoring.types.ts` | `shared/types/shared.types.ts` | ä¸ç›®å½•ä¸€è‡´ |
| `shared/constants/monitoring.constants.ts` | `shared/constants/shared.constants.ts` | ä¸ç›®å½•ä¸€è‡´ |
| `shared/utils/monitoring.utils.ts` | `shared/utils/shared.utils.ts` | ä¸ç›®å½•ä¸€è‡´ |
| `shared/interfaces/monitoring.interface.ts` | `shared/interfaces/shared.interface.ts` | ä¸ç›®å½•ä¸€è‡´ |
| `contracts/interfaces/collector.interface.ts` | âœ… ä¿æŒä¸å˜ | ä¿æŒè¯­ä¹‰æ¸…æ™° |
| `contracts/interfaces/analyzer.interface.ts` | âœ… ä¿æŒä¸å˜ | ä¿æŒè¯­ä¹‰æ¸…æ™° |
| `contracts/interfaces/error-handler.interface.ts` | âœ… ä¿æŒä¸å˜ | ä¿æŒè¯­ä¹‰æ¸…æ™° |

## ğŸš€ é‡æ„æ‰§è¡Œè„šæœ¬

```bash
#!/bin/bash
# æ–‡ä»¶é‡å‘½åè„šæœ¬

# Infrastructureå±‚
mv src/monitoring/infrastructure/metrics/infrastructure-metrics.module.ts src/monitoring/infrastructure/metrics/metrics.module.ts
mv src/monitoring/infrastructure/metrics/infrastructure-metrics.constants.ts src/monitoring/infrastructure/metrics/metrics.constants.ts
mv src/monitoring/infrastructure/metrics/infrastructure-metrics-registry.service.ts src/monitoring/infrastructure/metrics/metrics-registry.service.ts
mv src/monitoring/infrastructure/interceptors/infrastructure-performance.interceptor.ts src/monitoring/infrastructure/interceptors/infrastructure.interceptor.ts
mv src/monitoring/infrastructure/decorators/infrastructure-monitoring-config.decorator.ts src/monitoring/infrastructure/decorators/infrastructure-config.decorator.ts
mv src/monitoring/infrastructure/decorators/infrastructure-database-performance.decorator.ts src/monitoring/infrastructure/decorators/infrastructure-database.decorator.ts
mv src/monitoring/infrastructure/helper/metrics-helper.ts src/monitoring/infrastructure/helper/infrastructure-helper.ts

# Collectorå±‚
mv src/monitoring/collector/services/collector.service.ts src/monitoring/collector/collector.service.ts
rmdir src/monitoring/collector/services

# Analyzerå±‚
mv src/monitoring/analyzer/services/analyzer.service.ts src/monitoring/analyzer/analyzer.service.ts
mv src/monitoring/analyzer/services/analyzer-health.service.ts src/monitoring/analyzer/analyzer-health.service.ts
mv src/monitoring/analyzer/services/analyzer-trend.service.ts src/monitoring/analyzer/analyzer-trend.service.ts
mv src/monitoring/analyzer/cache/analyzer-cache.service.ts src/monitoring/analyzer/analyzer-cache.service.ts
mv src/monitoring/analyzer/calculators/analyzer-metrics.calculator.ts src/monitoring/analyzer/analyzer-metrics.service.ts
mv src/monitoring/analyzer/calculators/analyzer-health-score.calculator.ts src/monitoring/analyzer/analyzer-score.service.ts
rmdir src/monitoring/analyzer/services
rmdir src/monitoring/analyzer/cache
rmdir src/monitoring/analyzer/calculators

# Presenterå±‚
mv src/monitoring/presenter/controllers/presenter.controller.ts src/monitoring/presenter/presenter.controller.ts
mv src/monitoring/presenter/services/presenter.service.ts src/monitoring/presenter/presenter.service.ts
mv src/monitoring/presenter/services/presenter-error-handler.service.ts src/monitoring/presenter/presenter-error.service.ts
rmdir src/monitoring/presenter/controllers
rmdir src/monitoring/presenter/services

# Sharedå±‚
mv src/monitoring/shared/types/monitoring.types.ts src/monitoring/shared/types/shared.types.ts
mv src/monitoring/shared/constants/monitoring.constants.ts src/monitoring/shared/constants/shared.constants.ts
mv src/monitoring/shared/utils/monitoring.utils.ts src/monitoring/shared/utils/shared.utils.ts
mv src/monitoring/shared/interfaces/monitoring.interface.ts src/monitoring/shared/interfaces/shared.interface.ts
```

## ğŸ“ å¯¼å…¥è·¯å¾„æ›´æ–°ç¤ºä¾‹

### æ›´æ–°å‰
```typescript
import { InfrastructureMetricsRegistryService } from './metrics/infrastructure-metrics-registry.service';
import { HealthAnalyzerService } from './services/analyzer-health.service';
import { PresenterErrorHandlerService } from './services/presenter-error-handler.service';
```

### æ›´æ–°å
```typescript
import { MetricsRegistryService } from './metrics/metrics-registry.service';
import { AnalyzerHealthService } from './analyzer-health.service';
import { PresenterErrorService } from './presenter-error.service';
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é€å±‚é‡æ„** - å»ºè®®æŒ‰å±‚çº§é¡ºåºè¿›è¡Œé‡æ„ï¼Œä»Infrastructureå¼€å§‹
2. **æµ‹è¯•éªŒè¯** - æ¯å®Œæˆä¸€å±‚çš„é‡æ„ï¼Œè¿è¡Œç›¸å…³æµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£å¸¸
3. **å¯¼å…¥æ›´æ–°** - ä½¿ç”¨IDEçš„é‡æ„åŠŸèƒ½è‡ªåŠ¨æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„
4. **ç‰ˆæœ¬æ§åˆ¶** - åœ¨é‡æ„å‰åˆ›å»ºå¤‡ä»½åˆ†æ”¯
5. **ä»£ç å®¡æŸ¥** - é‡æ„å®Œæˆåè¿›è¡Œä»£ç å®¡æŸ¥ï¼Œç¡®ä¿ä¸€è‡´æ€§

## ğŸ“Š é‡æ„ç»Ÿè®¡

- **éœ€è¦é‡å‘½åçš„æ–‡ä»¶**: 23ä¸ª
- **éœ€è¦é‡å‘½åçš„ç±»**: 8ä¸ª  
- **éœ€è¦åˆ›å»ºçš„æ–°æ–‡ä»¶**: 14ä¸ª
- **éœ€è¦åˆ é™¤çš„ç©ºç›®å½•**: 6ä¸ª
- **é¢„è®¡å·¥ä½œé‡**: 4-6å°æ—¶

## âœ… é‡æ„åçš„ä¼˜åŠ¿

1. **å‘½åä¸€è‡´æ€§** - æ–‡ä»¶åã€ç±»åã€ç›®å½•åé«˜åº¦ä¸€è‡´
2. **æ˜“äºç»´æŠ¤** - çœ‹æ–‡ä»¶åå³çŸ¥åŠŸèƒ½å’Œå±‚çº§
3. **å‡å°‘åµŒå¥—** - æ‰å¹³åŒ–ç›®å½•ç»“æ„ï¼Œå‡å°‘ä¸å¿…è¦çš„å­ç›®å½•
4. **ç¬¦åˆè§„èŒƒ** - å®Œå…¨ç¬¦åˆNestJSæœ€ä½³å®è·µ
5. **æé«˜æ•ˆç‡** - å¼€å‘è€…æ›´å®¹æ˜“å®šä½å’Œç†è§£ä»£ç ç»“æ„