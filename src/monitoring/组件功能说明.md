# ç›‘æ§ç»„ä»¶è¯´æ˜æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

ç›‘æ§ç»„ä»¶æ˜¯ä¸€ä¸ª**äº‹ä»¶é©±åŠ¨**çš„ç³»ç»Ÿç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œæä¾›å®Œæ•´çš„æ€§èƒ½ç›‘æ§ã€å¥åº·æ£€æŸ¥ã€è¶‹åŠ¿åˆ†æå’ŒæŒ‡æ ‡æ”¶é›†åŠŸèƒ½ã€‚é‡‡ç”¨ç°ä»£åŒ–çš„æ¶æ„è®¾è®¡ï¼Œå®ç°äº†ç»„ä»¶è§£è€¦ã€é«˜æ€§èƒ½å¤„ç†å’Œç”Ÿäº§çº§çš„ç¨³å®šæ€§ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”„ äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šå®Œå…¨åŸºäºäº‹ä»¶é€šä¿¡ï¼Œæ¶ˆé™¤ç»„ä»¶é—´å¾ªç¯ä¾èµ–
- **âš¡ é«˜æ€§èƒ½æ‰¹å¤„ç†**ï¼šæ™ºèƒ½äº‹ä»¶èšåˆï¼Œæ”¯æŒèƒŒå‹æ§åˆ¶ï¼Œå¤„ç†èƒ½åŠ› >1000 events/sec
- **ğŸ›¡ï¸ é”™è¯¯éš”ç¦»**ï¼šç›‘æ§å¤±è´¥ä¸å½±å“ä¸šåŠ¡é€»è¾‘ï¼Œä¼˜é›…é™çº§æœºåˆ¶
- **ğŸ“Š å®Œæ•´ç›‘æ§è¦†ç›–**ï¼šAPIè¯·æ±‚ã€ç¼“å­˜æ“ä½œã€æ•°æ®åº“æŸ¥è¯¢ã€ç³»ç»ŸæŒ‡æ ‡
- **ğŸ” å®æ—¶å¥åº·æ£€æŸ¥**ï¼šå¤šç»´åº¦å¥åº·è¯„åˆ†ï¼Œæ™ºèƒ½è¶‹åŠ¿åˆ†æ
- **ğŸ›ï¸ è‡ªç›‘æ§èƒ½åŠ›**ï¼šç›‘æ§ç»„ä»¶è‡ªèº«æ€§èƒ½å’Œå¥åº·çŠ¶æ€

---

## ğŸ—ï¸ æ¶æ„ç»„æˆ

### æ ¸å¿ƒæœåŠ¡å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡ç»„ä»¶å±‚                          â”‚
â”‚  (Core Components, Providers, Controllers, etc.)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ å‘é€äº‹ä»¶
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ç›‘æ§äº‹ä»¶æ€»çº¿                          â”‚
â”‚             (EventEmitter2)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ äº‹ä»¶åˆ†å‘
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ç›‘æ§ç»„ä»¶æ ¸å¿ƒå±‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚äº‹ä»¶æ¡¥æ¥æœåŠ¡ â”‚ â”‚ ç¼“å­˜æœåŠ¡    â”‚ â”‚ æ”¶é›†å™¨æœåŠ¡  â”‚     â”‚
â”‚  â”‚EventBridge â”‚ â”‚ Cache       â”‚ â”‚ Collector   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ åˆ†æå™¨æœåŠ¡  â”‚ â”‚ å¥åº·æ£€æŸ¥    â”‚ â”‚ å±•ç¤ºå™¨æœåŠ¡  â”‚     â”‚
â”‚  â”‚ Analyzer    â”‚ â”‚ Health      â”‚ â”‚ Presenter   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ æŒ‡æ ‡è¾“å‡º
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å¤–éƒ¨ç›‘æ§ç³»ç»Ÿ                              â”‚
â”‚        (Prometheus, Grafana, AlertManager)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»è¦ç»„ä»¶è¯´æ˜

| ç»„ä»¶ | ä½ç½® | èŒè´£ | ç‰¹æ€§ |
|------|-----|------|------|
| **EventBridge** | `infrastructure/bridge/` | äº‹ä»¶åˆ°æŒ‡æ ‡è½¬æ¢ | æ‰¹å¤„ç†ã€èƒŒå‹æ§åˆ¶ã€é”™è¯¯éš”ç¦» |
| **Collector** | `collector/` | åŸå§‹æ•°æ®æ”¶é›† | çº¯æ•°æ®æ”¶é›†ã€äº‹ä»¶å‘é€ |
| **Analyzer** | `analyzer/` | æ•°æ®åˆ†æè®¡ç®— | äº‹ä»¶é©±åŠ¨ã€ç¼“å­˜ä¼˜åŒ– |
| **Cache** | `cache/` | ç›‘æ§ä¸“ç”¨ç¼“å­˜ | äº‹ä»¶åŒ–ã€æ€§èƒ½ç›‘æ§ |
| **Health** | `health/` | å¥åº·çŠ¶æ€æ£€æŸ¥ | å¤šç»´åº¦è¯„åˆ†ã€è¶‹åŠ¿åˆ†æ |
| **Presenter** | `presenter/` | æ•°æ®å±•ç¤ºæ¥å£ | REST APIã€æ ¼å¼åŒ–è¾“å‡º |

---

## ğŸ”§ ç»„ä»¶åŠŸèƒ½è¯¦è§£

### 1. äº‹ä»¶æ¡¥æ¥æœåŠ¡ (MonitoringEventBridgeService)

**æ ¸å¿ƒåŠŸèƒ½**ï¼šå°†ç³»ç»Ÿäº‹ä»¶è½¬æ¢ä¸º Prometheus æŒ‡æ ‡

```typescript
// è‡ªåŠ¨æ³¨å†Œçš„äº‹ä»¶å¤„ç†å™¨
@OnEvent(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED)
@OnEvent(SYSTEM_STATUS_EVENTS.CACHE_HIT)
@OnEvent(SYSTEM_STATUS_EVENTS.CACHE_MISS)
@OnEvent(SYSTEM_STATUS_EVENTS.API_REQUEST_COMPLETED)
// ... æ›´å¤šäº‹ä»¶ç±»å‹
```

**ç‰¹æ€§**ï¼š
- âœ… æ™ºèƒ½æ‰¹å¤„ç†ï¼š100msé—´éš”æˆ–100ä¸ªäº‹ä»¶è‡ªåŠ¨åˆ·æ–°
- âœ… èƒŒå‹æ§åˆ¶ï¼šé˜Ÿåˆ—æ»¡æ—¶è‡ªåŠ¨ä¸¢å¼ƒäº‹ä»¶ï¼Œä¿æŠ¤ç³»ç»Ÿç¨³å®š
- âœ… é”™è¯¯éš”ç¦»ï¼šäº‹ä»¶å¤„ç†å¤±è´¥ä¸å½±å“ä¸šåŠ¡æµç¨‹
- âœ… æŒ‡æ ‡èšåˆï¼šç›¸åŒç±»å‹äº‹ä»¶è‡ªåŠ¨èšåˆå‡å°‘Prometheuså‹åŠ›

### 2. æ•°æ®æ”¶é›†æœåŠ¡ (CollectorService)

**æ ¸å¿ƒåŠŸèƒ½**ï¼šæ”¶é›†åŸå§‹ç›‘æ§æ•°æ®å¹¶å‘é€äº‹ä»¶

```typescript
// ä¸»è¦æ”¶é›†æ–¹æ³•
recordRequest(endpoint, method, statusCode, duration, metadata?)
recordDatabaseOperation(operation, duration, success, metadata?)
recordCacheOperation(operation, hit, duration, metadata?)
recordSystemMetrics(metrics)
```

**ç‰¹æ€§**ï¼š
- âœ… çº¯æ•°æ®æ”¶é›†ï¼šä¸åŒ…å«è®¡ç®—é€»è¾‘ï¼ŒèŒè´£å•ä¸€
- âœ… äº‹ä»¶å‘é€ï¼šæ¯æ¬¡è®°å½•è‡ªåŠ¨å‘é€ METRIC_COLLECTED äº‹ä»¶
- âœ… ç¼“å†²åŒºç®¡ç†ï¼šå†…å­˜ç¼“å†²+å®šæœŸæŒä¹…åŒ–
- âœ… äº‹ä»¶é©±åŠ¨äº¤äº’ï¼šé€šè¿‡ DATA_REQUEST/RESPONSE äº‹ä»¶ä¸åˆ†æå±‚é€šä¿¡

### 3. æ•°æ®åˆ†ææœåŠ¡ (AnalyzerService)

**æ ¸å¿ƒåŠŸèƒ½**ï¼šåŸºäºåŸå§‹æ•°æ®è¿›è¡Œæ€§èƒ½åˆ†æå’Œå¥åº·è¯„åˆ†

```typescript
// ä¸»è¦åˆ†ææ–¹æ³•
getPerformanceAnalysis(options?: AnalysisOptions): Promise<PerformanceAnalysisDto>
getHealthScore(): Promise<number>
getHealthReport(): Promise<HealthReportDto>
calculateTrends(period: string): Promise<TrendsDto>
getOptimizationSuggestions(): Promise<SuggestionDto[]>
```

**ç‰¹æ€§**ï¼š
- âœ… å®Œå…¨äº‹ä»¶é©±åŠ¨ï¼šé€šè¿‡äº‹ä»¶è¯·æ±‚æ•°æ®ï¼Œæ¶ˆé™¤ç›´æ¥ä¾èµ–
- âœ… æ™ºèƒ½ç¼“å­˜ï¼šçƒ­ç‚¹æ•°æ®è‡ªåŠ¨ç¼“å­˜ï¼Œæ”¯æŒåˆ†å¸ƒå¼é”
- âœ… å¤šç»´åˆ†æï¼šæ€§èƒ½ã€å¥åº·ã€è¶‹åŠ¿ã€ä¼˜åŒ–å»ºè®®
- âœ… å¼‚æ­¥å¤„ç†ï¼š5ç§’è¶…æ—¶ä¿æŠ¤ï¼Œèµ„æºè‡ªåŠ¨æ¸…ç†

### 4. ç›‘æ§ç¼“å­˜æœåŠ¡ (MonitoringCacheService)

**æ ¸å¿ƒåŠŸèƒ½**ï¼šä¸ºç›‘æ§ç»„ä»¶æä¾›ä¸“ç”¨ç¼“å­˜èƒ½åŠ›

```typescript
// åˆ†ç±»ç¼“å­˜API
getOrSetHealthData<T>(key: string, factory: () => Promise<T>): Promise<T>
getOrSetTrendData<T>(key: string, factory: () => Promise<T>): Promise<T>
getOrSetPerformanceData<T>(key: string, factory: () => Promise<T>): Promise<T>

// æ‰¹é‡ç®¡ç†API
invalidateHealthCache(): Promise<void>
invalidateTrendCache(): Promise<void>
healthCheck(): Promise<{status, metrics}>
```

**ç‰¹æ€§**ï¼š
- âœ… ä¸“ç”¨ä¼˜åŒ–ï¼šé’ˆå¯¹ç›‘æ§æ•°æ®ç‰¹æ€§çš„TTLç­–ç•¥
- âœ… äº‹ä»¶é›†æˆï¼šç¼“å­˜æ“ä½œè‡ªåŠ¨å‘é€äº‹ä»¶
- âœ… æ€§èƒ½ç›‘æ§ï¼šP95/P99å»¶è¿Ÿç»Ÿè®¡ï¼Œå‘½ä¸­ç‡ç›‘æ§
- âœ… æ•…éšœæ¢å¤ï¼šRedisæ•…éšœæ—¶è‡ªåŠ¨é™çº§ï¼Œä¸å½±å“åŠŸèƒ½

### 5. APIç›‘æ§æ‹¦æˆªå™¨ (ApiMonitoringInterceptor)

**æ ¸å¿ƒåŠŸèƒ½**ï¼šè‡ªåŠ¨æ•è·APIè¯·æ±‚ç”Ÿå‘½å‘¨æœŸ

```typescript
// è‡ªåŠ¨æ•è·çš„äº‹ä»¶
API_REQUEST_STARTED    // è¯·æ±‚å¼€å§‹
API_REQUEST_COMPLETED  // è¯·æ±‚æˆåŠŸå®Œæˆ  
API_REQUEST_ERROR      // è¯·æ±‚é”™è¯¯
```

**ç‰¹æ€§**ï¼š
- âœ… å…¨è‡ªåŠ¨ï¼šæ— éœ€æ‰‹åŠ¨åŸ‹ç‚¹ï¼Œè‡ªåŠ¨æ•è·æ‰€æœ‰APIè¯·æ±‚
- âœ… éé˜»å¡ï¼šå¼‚æ­¥äº‹ä»¶å‘é€ï¼Œé›¶æ€§èƒ½å½±å“
- âœ… ä¸°å¯Œå…ƒæ•°æ®ï¼šIPã€User-Agentã€å“åº”å¤§å°ã€å¤„ç†æ—¶é—´ç­‰
- âœ… æ™ºèƒ½è¿‡æ»¤ï¼šè‡ªåŠ¨è·³è¿‡å¥åº·æ£€æŸ¥ç­‰å†…éƒ¨ç«¯ç‚¹

---

## ğŸ“š ä½¿ç”¨æ–¹å¼æŒ‡å—

### 1. åŸºç¡€é›†æˆ - æ¨¡å—å¯¼å…¥

```typescript
// app.module.ts
import { MonitoringModule } from '@monitoring/monitoring.module';

@Module({
  imports: [
    MonitoringModule, // å¯¼å…¥ç›‘æ§æ¨¡å—
    // ... å…¶ä»–æ¨¡å—
  ],
})
export class AppModule {}
```

```typescript
// main.ts - å…¨å±€æ‹¦æˆªå™¨
import { ApiMonitoringInterceptor } from '@monitoring/infrastructure/interceptors/api-monitoring.interceptor';

async function bootstrap() {
  const app = await NestJSFactory.create(AppModule);
  
  // æ³¨å†ŒAPIç›‘æ§æ‹¦æˆªå™¨ï¼ˆè‡ªåŠ¨ç›‘æ§æ‰€æœ‰APIè¯·æ±‚ï¼‰
  const apiMonitoringInterceptor = app.get(ApiMonitoringInterceptor);
  app.useGlobalInterceptors(apiMonitoringInterceptor);
  
  await app.listen(3000);
}
```

### 2. æ•°æ®æ”¶é›† - åœ¨ä¸šåŠ¡ç»„ä»¶ä¸­ä½¿ç”¨

#### æ–¹å¼ä¸€ï¼šç›´æ¥æ³¨å…¥CollectorServiceï¼ˆæ¨èï¼‰

```typescript
import { CollectorService } from '@monitoring/collector/collector.service';

@Injectable()
export class UserService {
  constructor(
    private readonly collectorService: CollectorService,
  ) {}

  async createUser(userData: CreateUserDto) {
    const startTime = Date.now();
    
    try {
      const result = await this.userRepository.save(userData);
      
      // è®°å½•æˆåŠŸçš„æ•°æ®åº“æ“ä½œ
      this.collectorService.recordDatabaseOperation(
        'create_user',
        Date.now() - startTime,
        true,
        { userId: result.id, userType: userData.type }
      );
      
      return result;
    } catch (error) {
      // è®°å½•å¤±è´¥çš„æ•°æ®åº“æ“ä½œ
      this.collectorService.recordDatabaseOperation(
        'create_user',
        Date.now() - startTime,
        false,
        { error: error.message, userType: userData.type }
      );
      throw error;
    }
  }
}
```

#### æ–¹å¼äºŒï¼šå‘é€è‡ªå®šä¹‰äº‹ä»¶ï¼ˆé«˜çº§ç”¨æ³•ï¼‰

```typescript
import { EventEmitter2 } from '@nestjs/event-emitter';
import { SYSTEM_STATUS_EVENTS } from '@monitoring/contracts/events/system-status.events';

@Injectable()
export class PaymentService {
  constructor(
    private readonly eventBus: EventEmitter2,
  ) {}

  async processPayment(paymentData: PaymentDto) {
    const startTime = Date.now();
    
    try {
      const result = await this.paymentProcessor.process(paymentData);
      
      // å‘é€è‡ªå®šä¹‰ä¸šåŠ¡äº‹ä»¶
      this.eventBus.emit(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED, {
        timestamp: new Date(),
        source: 'payment',
        metricType: 'business',
        metricName: 'payment_processed',
        metricValue: paymentData.amount,
        tags: {
          payment_method: paymentData.method,
          currency: paymentData.currency,
          status: 'success',
          provider: 'stripe'
        }
      });
      
      return result;
    } catch (error) {
      // å‘é€é”™è¯¯äº‹ä»¶
      this.eventBus.emit(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED, {
        timestamp: new Date(),
        source: 'payment',
        metricType: 'business',
        metricName: 'payment_failed',
        metricValue: 1,
        tags: {
          payment_method: paymentData.method,
          error_type: error.constructor.name,
          provider: 'stripe'
        }
      });
      throw error;
    }
  }
}
```

### 3. æ€§èƒ½åˆ†æ - è·å–ç›‘æ§æ•°æ®

```typescript
import { AnalyzerService } from '@monitoring/analyzer/analyzer.service';

@Controller('admin/monitoring')
export class AdminMonitoringController {
  constructor(
    private readonly analyzerService: AnalyzerService,
  ) {}

  // è·å–ç³»ç»Ÿæ€§èƒ½åˆ†ææŠ¥å‘Š
  @Get('performance')
  async getPerformanceReport() {
    return await this.analyzerService.getPerformanceAnalysis({
      startTime: new Date(Date.now() - 24 * 60 * 60 * 1000), // æœ€è¿‘24å°æ—¶
      includeDetails: true
    });
  }

  // è·å–å¥åº·è¯„åˆ†
  @Get('health/score')
  async getHealthScore() {
    const score = await this.analyzerService.getHealthScore();
    return { score, status: score > 70 ? 'healthy' : score > 40 ? 'warning' : 'critical' };
  }

  // è·å–ä¼˜åŒ–å»ºè®®
  @Get('suggestions')
  async getOptimizationSuggestions() {
    return await this.analyzerService.getOptimizationSuggestions();
  }

  // è·å–è¶‹åŠ¿åˆ†æ
  @Get('trends/:period')
  async getTrends(@Param('period') period: string) {
    return await this.analyzerService.calculateTrends(period); // '1h', '6h', '1d', '7d'
  }
}
```

### 4. ç¼“å­˜æ“ä½œ - ç›‘æ§ä¸“ç”¨ç¼“å­˜

```typescript
import { MonitoringCacheService } from '@monitoring/cache/monitoring-cache.service';

@Injectable()
export class DashboardService {
  constructor(
    private readonly monitoringCache: MonitoringCacheService,
  ) {}

  // ä½¿ç”¨å¥åº·æ•°æ®ç¼“å­˜
  async getSystemHealthStatus() {
    return await this.monitoringCache.getOrSetHealthData(
      'system_status',
      async () => {
        // å¤æ‚çš„å¥åº·çŠ¶æ€è®¡ç®—
        const cpuUsage = await this.getCPUUsage();
        const memoryUsage = await this.getMemoryUsage();
        const diskUsage = await this.getDiskUsage();
        
        return {
          cpu: cpuUsage,
          memory: memoryUsage,
          disk: diskUsage,
          overall: this.calculateOverallHealth(cpuUsage, memoryUsage, diskUsage)
        };
      }
    );
  }

  // ä½¿ç”¨è¶‹åŠ¿æ•°æ®ç¼“å­˜
  async getPerformanceTrends(period: string) {
    return await this.monitoringCache.getOrSetTrendData(
      `performance_trends_${period}`,
      async () => {
        return await this.calculatePerformanceTrends(period);
      }
    );
  }
}
```

### 5. è£…é¥°å™¨æ–¹å¼ - è‡ªåŠ¨æ€§èƒ½ç›‘æ§

```typescript
import { PerformanceMonitoring } from '@common/core/decorators/performance-monitoring.decorator';

@Injectable()
export class StockDataService {
  
  // è‡ªåŠ¨ç›‘æ§æ–¹æ³•æ€§èƒ½
  @PerformanceMonitoring({
    operation: 'get_stock_quote',
    layer: 'service',
    includeArgs: false,
    includeResult: false
  })
  async getStockQuote(symbol: string): Promise<StockQuote> {
    // ä¸šåŠ¡é€»è¾‘...
    // è£…é¥°å™¨è‡ªåŠ¨è®°å½•æ‰§è¡Œæ—¶é—´å’ŒæˆåŠŸ/å¤±è´¥çŠ¶æ€
    return await this.dataProvider.fetchQuote(symbol);
  }

  @PerformanceMonitoring({
    operation: 'batch_stock_update',
    layer: 'service',
    metricTags: { operation_type: 'batch', provider: 'internal' }
  })
  async batchUpdateStocks(symbols: string[]): Promise<void> {
    // æ‰¹é‡å¤„ç†é€»è¾‘...
    // è‡ªåŠ¨è®°å½•æ‰¹æ¬¡å¤§å°ã€å¤„ç†æ—¶é—´ç­‰æŒ‡æ ‡
  }
}
```

---

## ğŸ” ç›‘æ§ç«¯ç‚¹å’ŒæŸ¥è¯¢

### REST API ç«¯ç‚¹

ç›‘æ§ç»„ä»¶æä¾›æ ‡å‡†çš„ REST API è®¿é—®æ¥å£ï¼š

```bash
# åŸºç¡€è·¯å¾„: /api/monitoring

# è·å–æ€§èƒ½åˆ†ææŠ¥å‘Š
GET /api/monitoring/performance
GET /api/monitoring/performance?startTime=2024-01-01T00:00:00Z&endTime=2024-01-02T00:00:00Z

# å¥åº·æ£€æŸ¥ç›¸å…³
GET /api/monitoring/health
GET /api/monitoring/health/score
GET /api/monitoring/health/report

# è¶‹åŠ¿åˆ†æ
GET /api/monitoring/trends/1h    # æœ€è¿‘1å°æ—¶è¶‹åŠ¿
GET /api/monitoring/trends/1d    # æœ€è¿‘1å¤©è¶‹åŠ¿
GET /api/monitoring/trends/7d    # æœ€è¿‘7å¤©è¶‹åŠ¿

# ä¼˜åŒ–å»ºè®®
GET /api/monitoring/suggestions

# ç¼“å­˜ç®¡ç†
POST /api/monitoring/cache/invalidate
POST /api/monitoring/cache/invalidate?pattern=health

# ç»„ä»¶çŠ¶æ€
GET /api/monitoring/status
GET /api/monitoring/metrics/cache-stats
```

### å“åº”æ•°æ®æ ¼å¼

```typescript
// æ€§èƒ½åˆ†æå“åº”
interface PerformanceAnalysisDto {
  timestamp: string;
  summary: {
    totalRequests: number;
    averageResponseTimeMs: number;
    errorRate: number;
    throughput: number;
  };
  healthScore: number;
  trends?: TrendsDto;
  endpointMetrics?: EndpointMetricsDto[];
  // ... æ›´å¤šå­—æ®µ
}

// å¥åº·æŠ¥å‘Šå“åº”
interface HealthReportDto {
  overall: {
    score: number;
    status: 'healthy' | 'warning' | 'critical';
    timestamp: string;
  };
  components: {
    api: ComponentHealthDto;
    database: ComponentHealthDto;
    cache: ComponentHealthDto;
    system: ComponentHealthDto;
  };
  recommendations?: string[];
}

// è¶‹åŠ¿åˆ†æå“åº”
interface TrendsDto {
  responseTime: TrendMetric;
  errorRate: TrendMetric;
  throughput: TrendMetric;
}

interface TrendMetric {
  current: number;
  previous: number;
  trend: 'up' | 'down' | 'stable';
  changePercentage: number;
}
```

---

## ğŸ“Š Prometheus æŒ‡æ ‡è¯´æ˜

ç›‘æ§ç»„ä»¶è‡ªåŠ¨å‘ Prometheus å‘é€ä»¥ä¸‹æŒ‡æ ‡ç±»å‹ï¼š

### æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡
```bash
# HTTPè¯·æ±‚æŒ‡æ ‡
receiver_requests_total{method="GET|POST|PUT|DELETE", status="200|404|500", provider="api", operation="endpoint"}
receiver_processing_duration_seconds{method, provider, operation, status, attempt}
receiver_active_connections{connection_type="api|websocket"}
receiver_error_rate{error_type}

# æ•°æ®åº“æŒ‡æ ‡  
storage_operations_total{operation="create|read|update|delete", storage_type="mongodb|redis"}
storage_query_duration_seconds{query_type, storage_type}
storage_data_volume{data_type, storage_type}

# ç¼“å­˜æŒ‡æ ‡
storage_cache_efficiency{cache_type="monitoring|smart|symbol", operation}
```

### ç›‘æ§è‡ªç›‘æ§æŒ‡æ ‡
```bash
# äº‹ä»¶å¤„ç†æŒ‡æ ‡
monitoring_events_processed_total{event_type, status}
monitoring_events_dropped_total{reason}
monitoring_batch_processing_duration_seconds
monitoring_queue_utilization_percent

# ç¼“å­˜æ€§èƒ½æŒ‡æ ‡
monitoring_cache_hit_rate{cache_type}
monitoring_cache_operation_duration_seconds{operation}
```

### æŸ¥è¯¢ç¤ºä¾‹
```promql
# APIè¯·æ±‚æˆåŠŸç‡
rate(receiver_requests_total{status!~"4..|5.."}[5m]) / rate(receiver_requests_total[5m])

# å¹³å‡å“åº”æ—¶é—´
rate(receiver_processing_duration_seconds_sum[5m]) / rate(receiver_processing_duration_seconds_count[5m])

# ç¼“å­˜å‘½ä¸­ç‡
rate(storage_cache_efficiency{cache_type="monitoring"}[5m])

# äº‹ä»¶å¤„ç†æ€§èƒ½
rate(monitoring_events_processed_total[5m])
```

---

## âš™ï¸ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# äº‹ä»¶å¤„ç†é…ç½®
MONITORING_BATCH_SIZE=100                    # æ‰¹å¤„ç†å¤§å°
MONITORING_FLUSH_INTERVAL_MS=100            # åˆ·æ–°é—´éš”(æ¯«ç§’)
MONITORING_MAX_QUEUE_SIZE=10000             # æœ€å¤§é˜Ÿåˆ—å¤§å°
MONITORING_REQUEST_TIMEOUT_MS=5000          # æ•°æ®è¯·æ±‚è¶…æ—¶

# ç¼“å­˜é…ç½®
MONITORING_CACHE_TTL_HEALTH=30              # å¥åº·æ•°æ®TTL(ç§’)
MONITORING_CACHE_TTL_TREND=300              # è¶‹åŠ¿æ•°æ®TTL(ç§’)
MONITORING_CACHE_TTL_PERFORMANCE=60         # æ€§èƒ½æ•°æ®TTL(ç§’)
MONITORING_CACHE_COMPRESSION_THRESHOLD=1024  # å‹ç¼©é˜ˆå€¼(å­—èŠ‚)

# è‡ªç›‘æ§é…ç½®
MONITORING_SELF_CHECK_INTERVAL=60000        # è‡ªæ£€é—´éš”(æ¯«ç§’)
MONITORING_FALLBACK_THRESHOLD=10            # å›é€€æ¬¡æ•°å‘Šè­¦é˜ˆå€¼
```

### ä»£ç é…ç½®

```typescript
// monitoring.config.ts
export const getMonitoringConfigForEnvironment = (): MonitoringConfig => ({
  cache: {
    namespace: 'monitoring',
    ttl: {
      health: 30,      // å¥åº·æ•°æ®ç¼“å­˜30ç§’
      trend: 300,      // è¶‹åŠ¿æ•°æ®ç¼“å­˜5åˆ†é’Ÿ
      performance: 60, // æ€§èƒ½æ•°æ®ç¼“å­˜1åˆ†é’Ÿ
      alert: 120,      // å‘Šè­¦æ•°æ®ç¼“å­˜2åˆ†é’Ÿ
      cacheStats: 60   // ç¼“å­˜ç»Ÿè®¡1åˆ†é’Ÿ
    },
    compressionThreshold: 1024,
    batchSize: 50,
    keyIndexPrefix: 'monitoring:index',
    fallbackThreshold: 10
  },
  events: {
    batchSize: 100,
    flushInterval: 100,
    maxQueueSize: 10000,
    requestTimeout: 5000
  }
});
```

---

## ğŸš¨ é”™è¯¯å¤„ç†å’Œæ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### 1. äº‹ä»¶é˜Ÿåˆ—æ»¡å‘Šè­¦
```bash
# ç—‡çŠ¶
WARN: äº‹ä»¶æ‰¹å¤„ç†é˜Ÿåˆ—å·²æ»¡ï¼Œäº‹ä»¶è¢«ä¸¢å¼ƒ {reason: 'queue_full', droppedCount: 42}

# è§£å†³æ–¹æ¡ˆ
# 1. å¢å¤§é˜Ÿåˆ—å¤§å°
MONITORING_MAX_QUEUE_SIZE=20000

# 2. å‡å°‘æ‰¹å¤„ç†é—´éš”
MONITORING_FLUSH_INTERVAL_MS=50

# 3. æ£€æŸ¥äº‹ä»¶å‘é€é¢‘ç‡æ˜¯å¦å¼‚å¸¸
```

#### 2. ç¼“å­˜æœåŠ¡ä¸å¯ç”¨
```bash
# ç—‡çŠ¶
WARN: ç›‘æ§ç¼“å­˜æ“ä½œå¤±è´¥ï¼Œé™çº§å¤„ç† {error: 'Redis connection lost'}

# å¤„ç†
# ç›‘æ§ç»„ä»¶è‡ªåŠ¨é™çº§ï¼Œä¸å½±å“ä¸šåŠ¡
# æ£€æŸ¥Redisè¿æ¥çŠ¶æ€ï¼Œä¿®å¤åè‡ªåŠ¨æ¢å¤
```

#### 3. æ•°æ®è¯·æ±‚è¶…æ—¶
```bash
# ç—‡çŠ¶  
ERROR: æ•°æ®è¯·æ±‚è¶…æ—¶ {requestId: 'analyzer_1234', timeout: 5000}

# è§£å†³æ–¹æ¡ˆ
# 1. å¢åŠ è¶…æ—¶æ—¶é—´
MONITORING_REQUEST_TIMEOUT_MS=10000

# 2. æ£€æŸ¥CollectorServiceæ˜¯å¦æ­£å¸¸å“åº”äº‹ä»¶
# 3. æŸ¥çœ‹äº‹ä»¶æ€»çº¿æ˜¯å¦æœ‰é˜»å¡
```

### å¥åº·æ£€æŸ¥ç«¯ç‚¹

```bash
# æ£€æŸ¥ç›‘æ§ç»„ä»¶æ•´ä½“å¥åº·çŠ¶æ€
curl -X GET http://localhost:3000/api/monitoring/status

# æ£€æŸ¥ç¼“å­˜æœåŠ¡å¥åº·çŠ¶æ€  
curl -X GET http://localhost:3000/api/monitoring/cache/health

# æ£€æŸ¥äº‹ä»¶æ‰¹å¤„ç†å™¨çŠ¶æ€
curl -X GET http://localhost:3000/api/monitoring/events/health
```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
LOG_LEVEL=debug npm run start

# æˆ–è€…åªå¯ç”¨ç›‘æ§ç»„ä»¶è°ƒè¯•
DEBUG=monitoring:* npm run start
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ‰©å±•ç›‘æ§åŠŸèƒ½

#### 1. æ·»åŠ æ–°çš„äº‹ä»¶ç±»å‹

```typescript
// 1. åœ¨ system-status.events.ts ä¸­æ·»åŠ æ–°äº‹ä»¶
export const SYSTEM_STATUS_EVENTS = {
  // ... ç°æœ‰äº‹ä»¶
  CUSTOM_BUSINESS_EVENT: 'system-status.custom.business.event',
} as const;

// 2. åœ¨ MonitoringEventBridgeService ä¸­æ·»åŠ å¤„ç†å™¨
@OnEvent(SYSTEM_STATUS_EVENTS.CUSTOM_BUSINESS_EVENT)
handleCustomBusinessEvent(event: any) {
  try {
    // å¤„ç†è‡ªå®šä¹‰äº‹ä»¶ï¼Œæ˜ å°„åˆ°PrometheusæŒ‡æ ‡
    this.metricsRegistry.customBusinessMetric.inc({
      business_type: event.businessType,
      operation: event.operation
    });
  } catch (error) {
    this.logger.debug('è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å¤±è´¥', error.message);
  }
}
```

#### 2. æ·»åŠ æ–°çš„åˆ†æåŠŸèƒ½

```typescript
// 1. åˆ›å»ºä¸“ä¸šåˆ†ææœåŠ¡
@Injectable()
export class CustomAnalyzerService {
  async generateCustomReport(rawMetrics: any): Promise<CustomReportDto> {
    // è‡ªå®šä¹‰åˆ†æé€»è¾‘
    return customReport;
  }
}

// 2. é›†æˆåˆ°ä¸»åˆ†æå™¨
@Injectable()
export class AnalyzerService {
  constructor(
    // ... ç°æœ‰ä¾èµ–
    private readonly customAnalyzer: CustomAnalyzerService,
  ) {}

  async getCustomAnalysis(): Promise<CustomReportDto> {
    const rawMetrics = await this.requestRawMetrics();
    return await this.customAnalyzer.generateCustomReport(rawMetrics);
  }
}
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 1. æ‰¹å¤„ç†å‚æ•°è°ƒä¼˜
```typescript
// æ ¹æ®ä¸šåŠ¡ç‰¹å¾è°ƒæ•´å‚æ•°
// é«˜é¢‘åœºæ™¯ï¼šå‡å°‘é—´éš”ï¼Œå¢åŠ æ‰¹æ¬¡å¤§å°
const highFrequencyConfig = {
  flushIntervalMs: 50,
  maxBatchSize: 200,
  maxQueueSize: 20000
};

// ä½é¢‘åœºæ™¯ï¼šå¢åŠ é—´éš”ï¼Œå‡å°‘æ‰¹æ¬¡å¤§å°
const lowFrequencyConfig = {
  flushIntervalMs: 500,
  maxBatchSize: 50,
  maxQueueSize: 5000
};
```

#### 2. ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
```typescript
// æ ¹æ®æ•°æ®ç‰¹å¾è°ƒæ•´TTL
const adaptiveTtlStrategy = {
  // å¿«é€Ÿå˜åŒ–çš„æ•°æ®ï¼šçŸ­TTL
  realtimeMetrics: 5,
  
  // ä¸­ç­‰å˜åŒ–çš„æ•°æ®ï¼šä¸­ç­‰TTL
  healthScores: 30,
  
  // æ…¢é€Ÿå˜åŒ–çš„æ•°æ®ï¼šé•¿TTL
  systemConfig: 300,
  
  // å†å²æ•°æ®ï¼šè¶…é•¿TTL
  historicalTrends: 3600
};
```

---

## ğŸ“ˆ ç›‘æ§æœ€ä½³å®è·µ

### 1. äº‹ä»¶å‘é€æœ€ä½³å®è·µ

```typescript
// âœ… æ¨èï¼šå¼‚æ­¥å‘é€ï¼Œä¸é˜»å¡ä¸»æµç¨‹
async processOrder(order: OrderDto) {
  try {
    const result = await this.orderProcessor.process(order);
    
    // å¼‚æ­¥å‘é€ç›‘æ§äº‹ä»¶
    setImmediate(() => {
      this.eventBus.emit(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED, {
        // äº‹ä»¶æ•°æ®...
      });
    });
    
    return result;
  } catch (error) {
    // é”™è¯¯æƒ…å†µä¹Ÿè¦å‘é€ç›‘æ§äº‹ä»¶
    setImmediate(() => {
      this.eventBus.emit(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED, {
        // é”™è¯¯äº‹ä»¶æ•°æ®...
      });
    });
    throw error;
  }
}

// âŒ é¿å…ï¼šåŒæ­¥å‘é€ï¼Œå¯èƒ½é˜»å¡ä¸»æµç¨‹
async processOrder(order: OrderDto) {
  const result = await this.orderProcessor.process(order);
  
  // åŒæ­¥å‘é€å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜
  this.eventBus.emit(SYSTEM_STATUS_EVENTS.METRIC_COLLECTED, {
    // äº‹ä»¶æ•°æ®...
  });
  
  return result;
}
```

### 2. æ ‡ç­¾ä½¿ç”¨æœ€ä½³å®è·µ

```typescript
// âœ… æ¨èï¼šåˆç†çš„æ ‡ç­¾åŸºæ•°
const goodTags = {
  method: 'GET',           // ä½åŸºæ•° (4-10ä¸ªå€¼)
  status_code: '200',      // ä½åŸºæ•° (10-20ä¸ªå€¼)
  endpoint_group: 'api',   // ä½åŸºæ•° (5-15ä¸ªå€¼)
  provider: 'longport'     // ä½åŸºæ•° (2-10ä¸ªå€¼)
};

// âŒ é¿å…ï¼šé«˜åŸºæ•°æ ‡ç­¾
const badTags = {
  user_id: '12345',        // é«˜åŸºæ•°ï¼Œä¼šå¯¼è‡´æŒ‡æ ‡çˆ†ç‚¸
  timestamp: '1640995200', // é«˜åŸºæ•°ï¼Œæ—¶é—´æˆ³ä½œä¸ºæ ‡ç­¾
  request_id: 'req_abc',   // é«˜åŸºæ•°ï¼Œå”¯ä¸€IDä½œä¸ºæ ‡ç­¾
  ip_address: '192.168.1.1' // é«˜åŸºæ•°ï¼ŒIPåœ°å€ä½œä¸ºæ ‡ç­¾
};
```

### 3. ç¼“å­˜ä½¿ç”¨æœ€ä½³å®è·µ

```typescript
// âœ… æ¨èï¼šåˆç†çš„ç¼“å­˜é”®å‘½åå’ŒTTL
class DashboardService {
  async getSystemOverview() {
    return await this.monitoringCache.getOrSetPerformanceData(
      'system_overview',  // ç®€æ´æ˜ç¡®çš„é”®å
      async () => {
        // è®¡ç®—æˆæœ¬é«˜çš„æ“ä½œ
        return await this.calculateSystemOverview();
      }
    );
  }

  async getUserSpecificData(userId: string) {
    // å¯¹äºç”¨æˆ·ç‰¹å®šæ•°æ®ï¼Œä½¿ç”¨æ›´çŸ­çš„TTL
    return await this.monitoringCache.getOrSetHealthData(
      `user_health_${userId}`,
      async () => {
        return await this.calculateUserHealth(userId);
      }
    );
  }
}
```

### 4. é”™è¯¯å¤„ç†æœ€ä½³å®è·µ

```typescript
// âœ… æ¨èï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œç›‘æ§
class PaymentService {
  async processPayment(payment: PaymentDto) {
    const startTime = Date.now();
    
    try {
      const result = await this.paymentGateway.charge(payment);
      
      // æˆåŠŸæŒ‡æ ‡
      this.collectorService.recordRequest(
        'payment_process',
        'POST',
        200,
        Date.now() - startTime,
        {
          payment_method: payment.method,
          amount: payment.amount,
          currency: payment.currency
        }
      );
      
      return result;
      
    } catch (error) {
      // è¯¦ç»†çš„é”™è¯¯åˆ†ç±»
      const errorType = this.classifyError(error);
      
      this.collectorService.recordRequest(
        'payment_process',
        'POST',
        error.status || 500,
        Date.now() - startTime,
        {
          payment_method: payment.method,
          error_type: errorType,
          error_code: error.code
        }
      );
      
      throw error;
    }
  }

  private classifyError(error: any): string {
    if (error.code === 'INSUFFICIENT_FUNDS') return 'business_error';
    if (error.code === 'INVALID_CARD') return 'validation_error';
    if (error.message?.includes('timeout')) return 'network_error';
    return 'system_error';
  }
}
```

---

## ğŸ”„ ç‰ˆæœ¬å†å²å’Œè·¯çº¿å›¾

### å½“å‰ç‰ˆæœ¬ï¼šv2.0 (äº‹ä»¶é©±åŠ¨æ¶æ„)

**ä¸»è¦ç‰¹æ€§**ï¼š
- âœ… å®Œæ•´äº‹ä»¶é©±åŠ¨æ¶æ„
- âœ… æ™ºèƒ½æ‰¹å¤„ç†å’ŒèƒŒå‹æ§åˆ¶
- âœ… ç›‘æ§ç»„ä»¶å®Œå…¨è§£è€¦
- âœ… ç”Ÿäº§çº§é”™è¯¯å¤„ç†å’Œæ¢å¤
- âœ… è‡ªç›‘æ§å’Œå¥åº·æ£€æŸ¥

### æœªæ¥è·¯çº¿å›¾

#### v2.1 - å¢å¼ºåˆ†æèƒ½åŠ› (è®¡åˆ’ä¸­)
- ğŸ”„ æœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹
- ğŸ”„ æ™ºèƒ½å‘Šè­¦é™å™ª
- ğŸ”„ è‡ªé€‚åº”é˜ˆå€¼è°ƒæ•´
- ğŸ”„ é¢„æµ‹æ€§æ•…éšœæ£€æµ‹

#### v2.2 - åˆ†å¸ƒå¼æ”¯æŒ (è®¡åˆ’ä¸­)  
- ğŸ”„ å¤šå®ä¾‹ç›‘æ§æ•°æ®èšåˆ
- ğŸ”„ åˆ†å¸ƒå¼ç¼“å­˜ä¸€è‡´æ€§
- ğŸ”„ é›†ç¾¤å¥åº·çŠ¶æ€ç»Ÿä¸€è§†å›¾
- ğŸ”„ è·¨æœåŠ¡è°ƒç”¨é“¾è¿½è¸ª

#### v3.0 - OpenTelemetryé›†æˆ (è§„åˆ’ä¸­)
- ğŸ”„ æ ‡å‡†åŒ–å¯è§‚æµ‹æ€§
- ğŸ”„ åˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒ
- ğŸ”„ å¤šè¯­è¨€SDKæ”¯æŒ
- ğŸ”„ äº‘åŸç”Ÿç›‘æ§é›†æˆ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æäº¤é—®é¢˜
å¦‚æœä½ å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·åœ¨é¡¹ç›®ä»“åº“ä¸­åˆ›å»ºIssueã€‚

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆéœ€è¦ MongoDB å’Œ Redisï¼‰
npm run dev

# 3. è¿è¡Œç›‘æ§ç»„ä»¶æµ‹è¯•
npm run test:unit:monitoring

# 4. è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration:monitoring
```

### ä»£ç è´¡çŒ®æµç¨‹
1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/new-monitoring-feature`
3. æäº¤ä»£ç ï¼š`git commit -m 'Add: new monitoring feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-monitoring-feature`
5. åˆ›å»º Pull Request

---

## ğŸ“ æ”¯æŒå’Œè”ç³»

- **æ–‡æ¡£é—®é¢˜**ï¼šæŸ¥çœ‹ `docs/` ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡æ¡£
- **ä½¿ç”¨é—®é¢˜**ï¼šåˆ›å»º GitHub Issue å¹¶æ·»åŠ  `monitoring` æ ‡ç­¾
- **æ€§èƒ½é—®é¢˜**ï¼šæä¾›ç›‘æ§æ•°æ®å’Œé”™è¯¯æ—¥å¿—
- **åŠŸèƒ½è¯·æ±‚**ï¼šåˆ›å»º GitHub Issue å¹¶æ·»åŠ  `enhancement` æ ‡ç­¾

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv2.0.0*  
*æœ€åæ›´æ–°ï¼š2024-01-01*  
*ç»´æŠ¤è€…ï¼šç›‘æ§å›¢é˜Ÿ*