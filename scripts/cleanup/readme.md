使用说明


npm run knip

现在您可以通过以下方式使用我们的增强清理脚本：
1. 交互式模式（默认）
bash
npm run knip:cleanup
脚本会检查文件并询问您是否删除。
2. 自动删除模式
bash
npm run knip:cleanup:auto
脚本会自动删除经过验证的安全文件，无需确认。
3. 干燥运行模式
bash
npm run knip:cleanup:dry
脚本会检查文件并显示可以删除的文件，但不实际删除。
4. 限制处理文件数量
bash
npm run knip:cleanup:limit
脚本只会处理前5个文件。
工作原理
我们的脚本通过以下步骤确保安全删除：
运行 Knip：获取未使用文件列表
验证引用：对每个文件，检查其中可能导出的类或变量是否在其他地方被引用
智能命名推断：根据文件名推断可能的类名或变量名
引用检查：使用 grep 搜索整个项目，确认没有引用
安全删除：只删除经过验证且无引用的文件
这种方法比 Knip 的自动修复更安全，因为它进行了更深入的引用检查。