{
  "name": "smart-stock-data-system",
  "version": "1.0.0",
  "description": "智能化股票数据处理系统",
  "author": "Your Name",
  "private": true,
  "license": "MIT",
  "scripts": {
    "dev": "bun --watch src/main.ts",
    "start": "bun src/main.ts",
    "start:debug": "bun --inspect --watch src/main.ts",
    "start:prod": "UV_THREADPOOL_SIZE=16 bun src/main.ts",
    "start:test": "NODE_ENV=test bun src/main.ts",
    "build": "bun run compile",
    "compile": "tsc -p tsconfig.build.json",
    "lint": "bun eslint \"{src,test}/**/*.ts\" --fix",
    "lint:common": "bun eslint \"{src,test}/**/*.ts\" --config .eslintrc.common-compliance.js",
    "format": "bun prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "format:check": "bun prettier --check \"src/**/*.ts\" \"test/**/*.ts\"",
    "compliance:check": "chmod +x scripts/check-common-compliance.sh && ./scripts/check-common-compliance.sh",
    "compliance:fix": "npm run lint:common --fix && npm run format",
    "security:deps": "bun audit --audit-level moderate",
    "predev": "echo 'Starting with auto-initialization on startup'",
    "init:basic-info": "echo 'Basic info initialization handled by auto-startup service'",
    "test": "npm run test:unit && npm run test:integration && npm run test:e2e && npm run test:blackbox && npm run test:security && npm run test:perf",
    "test:all": "npm run test:unit:all && npm run test:integration:all && npm run test:e2e:all && npm run test:blackbox && npm run test:security:all && npm run test:perf:all",
    "test:unit": "jest --config test/config/jest.unit.config.js",
    "test:unit:all": "npm-run-all --parallel test:unit:auth test:unit:core test:unit:common test:unit:alert test:unit:cache test:unit:metrics test:unit:security test:unit:monitoring test:unit:providers",
    "test:unit:watch": "jest --config test/config/jest.unit.config.js --watch",
    "test:unit:coverage": "jest --config test/config/jest.unit.config.js --coverage --coverageDirectory=coverage/unit",
    "test:unit:auth": "jest --config test/config/jest.unit.config.js test/jest/unit/auth",
    "test:unit:core": "jest --config test/config/jest.unit.config.js test/jest/unit/core",
    "test:unit:common": "jest --config test/config/jest.unit.config.js test/jest/unit/common",
    "test:unit:alert": "jest --config test/config/jest.unit.config.js test/jest/unit/alert",
    "test:unit:cache": "jest --config test/config/jest.unit.config.js test/jest/unit/cache",
    "test:unit:metrics": "jest --config test/config/jest.unit.config.js test/jest/unit/metrics",
    "test:unit:security": "jest --config test/config/jest.unit.config.js test/jest/unit/security",
    "test:unit:monitoring": "jest --config test/config/jest.unit.config.js test/jest/unit/monitoring",
    "test:unit:providers": "jest --config test/config/jest.unit.config.js test/jest/unit/providers",
    "test:integration": "jest --config test/config/jest.integration.config.js",
    "test:integration:all": "npm-run-all --parallel test:integration:auth test:integration:core test:integration:monitoring test:integration:alert test:integration:metrics test:integration:security test:integration:cross-module test:integration:common test:integration:providers test:integration:cache",
    "test:integration:watch": "jest --config test/config/jest.integration.config.js --watch",
    "test:integration:coverage": "jest --config test/config/jest.integration.config.js --coverage --coverageDirectory=coverage/integration",
    "test:integration:auth": "jest --config test/config/jest.integration.config.js test/jest/integration/auth",
    "test:integration:core": "jest --config test/config/jest.integration.config.js test/jest/integration/core",
    "test:integration:monitoring": "jest --config test/config/jest.integration.config.js test/jest/integration/monitoring",
    "test:integration:alert": "jest --config test/config/jest.integration.config.js test/jest/integration/alert",
    "test:integration:metrics": "jest --config test/config/jest.integration.config.js test/jest/integration/metrics",
    "test:integration:security": "jest --config test/config/jest.integration.config.js test/jest/integration/security",
    "test:integration:cross-module": "jest --config test/config/jest.integration.config.js test/jest/integration/cross-module",
    "test:integration:common": "jest --config test/config/jest.integration.config.js test/jest/integration/common",
    "test:integration:providers": "jest --config test/config/jest.integration.config.js test/jest/integration/providers",
    "test:integration:cache": "jest --config test/config/jest.integration.config.js test/jest/integration/cache",
    "test:e2e": "jest --config test/config/jest.e2e.config.js --rootDir .",
    "test:e2e:all": "npm-run-all --parallel test:e2e:auth test:e2e:core test:e2e:monitoring test:e2e:cache test:e2e:metrics test:e2e:common test:e2e:alert",
    "test:e2e:watch": "jest --config test/config/jest.e2e.config.js --watch",
    "test:e2e:coverage": "jest --config test/config/jest.e2e.config.js --coverage --coverageDirectory=coverage/e2e",
    "test:e2e:auth": "jest --config test/config/jest.e2e.config.js test/jest/e2e/auth",
    "test:e2e:core": "jest --config test/config/jest.e2e.config.js test/jest/e2e/core",
    "test:e2e:monitoring": "jest --config test/config/jest.e2e.config.js test/jest/e2e/monitoring",
    "test:e2e:cache": "jest --config test/config/jest.e2e.config.js test/jest/e2e/cache",
    "test:e2e:metrics": "jest --config test/config/jest.e2e.config.js test/jest/e2e/metrics",
    "test:e2e:common": "jest --config test/config/jest.e2e.config.js test/jest/e2e/common",
    "test:e2e:alert": "jest --config test/config/jest.e2e.config.js test/jest/e2e/alert",
    "test:blackbox": "jest --config test/config/jest.blackbox.config.js",
    "test:security": "jest --config test/config/jest.security.config.js",
    "test:security:all": "npm-run-all --parallel test:security:auth test:security:core test:security:common test:security:alert test:security:cache test:security:metrics test:security:monitoring",
    "test:security:watch": "jest --config test/config/jest.security.config.js --watch",
    "test:security:auth": "jest --config test/config/jest.security.config.js test/jest/security/auth",
    "test:security:core": "jest --config test/config/jest.security.config.js test/jest/security/core",
    "test:security:common": "jest --config test/config/jest.security.config.js test/jest/security/common",
    "test:security:alert": "jest --config test/config/jest.security.config.js test/jest/security/alert",
    "test:security:cache": "jest --config test/config/jest.security.config.js test/jest/security/cache",
    "test:security:metrics": "jest --config test/config/jest.security.config.js test/jest/security/metrics",
    "test:security:monitoring": "jest --config test/config/jest.security.config.js test/jest/security/monitoring",
    "test:perf": "npm run test:perf:auth && npm run test:perf:data && npm run test:perf:api",
    "test:perf:all": "npm run test:perf:auth && npm run test:perf:data && npm run test:perf:volume && npm run test:perf:api && npm run test:perf:security",
    "test:perf:auth": "k6 run test/k6/stress/auth/auth-stress.perf.test.js",
    "test:perf:auth-spike": "k6 run test/k6/stress/auth/auth-spike.perf.test.js",
    "test:perf:data": "k6 run test/k6/stress/data/data-processing.perf.test.js",
    "test:perf:volume": "k6 run test/k6/stress/volume/high-volume.perf.test.js",
    "test:perf:stress": "npm run test:perf:auth && npm run test:perf:auth-spike",
    "test:perf:load": "npm run test:perf:auth:load && npm run test:perf:bulk",
    "test:perf:api": "k6 run test/k6/stress/api/api-stress.perf.test.js",
    "test:perf:api:spike": "k6 run test/k6/spike/api/api-spike.perf.test.js",
    "test:perf:bulk": "k6 run test/k6/load/api/bulk-requests.perf.test.js",
    "test:perf:auth:load": "k6 run test/k6/load/auth/auth-load.perf.test.js",
    "test:perf:security": "k6 run test/k6/security/security-load.perf.test.js",
    "test:perf:api:all": "npm run test:perf:api && npm run test:perf:api:spike && npm run test:perf:bulk",
    "test:perf:spike": "npm run test:perf:auth-spike && npm run test:perf:api:spike",
    "test:perf:data-flow": "echo 'Data flow performance tests placeholder'",
    "test:perf:load:data-flow": "echo 'Load data flow performance tests placeholder'",
    "test:perf:spike:data-flow": "echo 'Spike data flow performance tests placeholder'",
    "test:perf:stress:data-flow": "echo 'Stress data flow performance tests placeholder'",
    "test:coverage:all": "npm-run-all --serial test:coverage:unit test:coverage:integration test:coverage:e2e test:coverage:security && npm run coverage:merge",
    "test:coverage": "npm-run-all --parallel test:coverage:auth test:coverage:core test:coverage:common test:coverage:alert test:coverage:cache test:coverage:metrics test:coverage:security:unit test:coverage:monitoring test:coverage:providers test:coverage:scripts test:coverage:integration:alert test:coverage:integration:cross-module test:coverage:integration:monitoring test:coverage:e2e:alert",
    "test:coverage:unit": "jest --config test/config/jest.unit.config.js --coverage --coverageDirectory=coverage/unit",
    "test:coverage:integration": "jest --config test/config/jest.integration.config.js --coverage --coverageDirectory=coverage/integration",
    "test:coverage:e2e": "jest --config test/config/jest.e2e.config.js --coverage --coverageDirectory=coverage/e2e",
    "test:coverage:security": "jest --config test/config/jest.security.config.js --coverage --coverageDirectory=coverage/security",
    "test:coverage:auth": "jest --config test/config/jest.unit.config.js test/jest/unit/auth --coverage --coverageDirectory=coverage/modules/auth --collectCoverageFrom='src/auth/**/*.ts'",
    "test:coverage:core": "jest --config test/config/jest.unit.config.js test/jest/unit/core --coverage --coverageDirectory=coverage/modules/core --collectCoverageFrom='src/core/**/*.ts'",
    "test:coverage:common": "jest --config test/config/jest.unit.config.js test/jest/unit/common --coverage --coverageDirectory=coverage/modules/common --collectCoverageFrom='src/common/**/*.ts'",
    "test:coverage:alert": "jest --config test/config/jest.unit.config.js test/jest/unit/alert --coverage --coverageDirectory=coverage/modules/alert --collectCoverageFrom='src/alert/**/*.ts'",
    "test:coverage:cache": "jest --config test/config/jest.unit.config.js test/jest/unit/cache --coverage --coverageDirectory=coverage/modules/cache --collectCoverageFrom='src/cache/**/*.ts'",
    "test:coverage:metrics": "jest --config test/config/jest.unit.config.js test/jest/unit/metrics --coverage --coverageDirectory=coverage/modules/metrics --collectCoverageFrom='src/metrics/**/*.ts'",
    "test:coverage:security:unit": "jest --config test/config/jest.unit.config.js test/jest/unit/security --coverage --coverageDirectory=coverage/modules/security --collectCoverageFrom='src/security/**/*.ts'",
    "test:coverage:monitoring": "jest --config test/config/jest.unit.config.js test/jest/unit/monitoring --coverage --coverageDirectory=coverage/modules/monitoring --collectCoverageFrom='src/monitoring/**/*.ts'",
    "test:coverage:providers": "jest --config test/config/jest.unit.config.js test/jest/unit/providers --coverage --coverageDirectory=coverage/modules/providers --collectCoverageFrom='src/providers/**/*.ts'",
    "test:coverage:scripts": "jest --config test/config/jest.unit.config.js test/jest/unit/scripts --coverage --coverageDirectory=coverage/modules/scripts --collectCoverageFrom='src/scripts/**/*.ts'",
    "test:coverage:integration:alert": "jest --config test/config/jest.integration.config.js test/jest/integration/alert --coverage --coverageDirectory=coverage/modules/alert-integration",
    "test:coverage:integration:cross-module": "jest --config test/config/jest.integration.config.js test/jest/integration/cross-module --coverage --coverageDirectory=coverage/modules/cross-module",
    "test:coverage:integration:monitoring": "jest --config test/config/jest.integration.config.js test/jest/integration/monitoring --coverage --coverageDirectory=coverage/modules/monitoring-integration",
    "test:coverage:e2e:alert": "jest --config test/config/jest.e2e.config.js test/jest/e2e/alert --coverage --coverageDirectory=coverage/modules/alert-e2e",
    "test:coverage:e2e:auth": "jest --config test/config/jest.e2e.config.js test/jest/e2e/auth --coverage --coverageDirectory=coverage/modules/auth-e2e",
    "test:coverage:e2e:core": "jest --config test/config/jest.e2e.config.js test/jest/e2e/core --coverage --coverageDirectory=coverage/modules/core-e2e",
    "test:coverage:e2e:monitoring": "jest --config test/config/jest.e2e.config.js test/jest/e2e/monitoring --coverage --coverageDirectory=coverage/modules/monitoring-e2e",
    "test:coverage:e2e:cache": "jest --config test/config/jest.e2e.config.js test/jest/e2e/cache --coverage --coverageDirectory=coverage/modules/cache-e2e",
    "test:coverage:e2e:metrics": "jest --config test/config/jest.e2e.config.js test/jest/e2e/metrics --coverage --coverageDirectory=coverage/modules/metrics-e2e",
    "test:coverage:e2e:common": "jest --config test/config/jest.e2e.config.js test/jest/e2e/common --coverage --coverageDirectory=coverage/modules/common-e2e",
    "coverage:merge": "ts-node test/utils/coverage-merger.ts",
    "coverage:analyze": "ts-node test/utils/coverage-analyzer.ts",
    "coverage:gate-check": "ts-node test/utils/coverage-gate-checker.ts",
    "coverage:trend-check": "ts-node test/utils/coverage-trend-checker.ts",
    "coverage:report": "npm run coverage:merge && npm run coverage:analyze",
    "coverage:full-analysis": "npm run coverage:merge && npm run coverage:analyze && npm run coverage:trend-check && npm run coverage:gate-check",
    "coverage:report:html": "nyc report --reporter=html --temp-dir=coverage/merged --report-dir=coverage/html",
    "coverage:report:lcov": "nyc report --reporter=lcov --temp-dir=coverage/merged --report-dir=coverage/lcov",
    "coverage:clean": "rimraf coverage/*",
    "test:detect-conflicts": "ts-node test/utils/test-conflict-detector.ts",
    "test:src-validate-structure": "ts-node test/utils/src-structure-validator.ts",
    "test:src-fix-structure": "chmod +x test/utils/fix-structure.sh && test/utils/fix-structure.sh",
    "test:validate-structure": "ts-node test/utils/test-structure-validator.ts",
    "test:validate-structure:repair": "ts-node -e \"require('./test/utils/test-structure-validator').generateQuickRepairScript()\"",
    "test:validate-structure:list": "ts-node -e \"require('./test/utils/test-structure-validator').printDetailedLists()\"",
    "test:validate-structure:apply": "chmod +x ./test-structure-repair.sh && ./test-structure-repair.sh",
    "test:coverage-mapping": "ts-node test/utils/test-coverage-mapper.ts",
    "test:validate-naming": "ts-node test/utils/naming-validator.ts",
    "test:validate-config": "ts-node test/scripts/validate-test-config.ts",
    "test:fix-config": "ts-node test/scripts/validate-test-config.ts --fix",
    "test:config-report": "ts-node test/scripts/validate-test-config.ts --report",
    "test:quality-check": "npm run coverage:gate-check && npm run test:detect-conflicts && npm run test:validate-structure && npm run test:validate-config",
    "test:helpers:api-response": "ts-node -e \"console.log('API响应助手工具可通过 import 使用'); console.log('示例: import { validateStandardResponse } from \\\"./test/utils/api-response-helpers\\\";');\"",
    "test:helpers:monitoring": "ts-node -e \"console.log('监控测试助手工具可通过 import 使用'); console.log('示例: import { createMonitoringTestHelper } from \\\"./test/utils/monitoring-test-helpers\\\";');\"",
    "test:helpers:async": "ts-node test/utils/async-test-helpers.ts && echo '✅ 异步测试助手执行完成' >> test-results/tools-execution.log",
    "test:helpers:batch-request": "ts-node test/utils/batch-request-helper.ts && echo '✅ 批量请求助手执行完成' >> test-results/tools-execution.log",
    "test:helpers:concurrent": "ts-node test/utils/concurrent-request.helper.ts && echo '✅ 并发请求助手执行完成' >> test-results/tools-execution.log",
    "test:data-manager": "ts-node -e \"console.log('测试数据管理器可通过 import 使用'); console.log('示例: import { TestDataManager } from \\\"./test/utils/test-data-manager\\\";');\"",
    "test:validate-structure:js": "ts-node test/utils/test-structure-validator.ts && echo '✅ JS结构验证器执行完成' >> test-results/tools-execution.log",
    "test:tools:all": "npm run test:helpers:api-response && npm run test:helpers:monitoring && npm run test:helpers:async && npm run test:helpers:batch-request && npm run test:helpers:concurrent && npm run test:data-manager && npm run test:validate-structure",
    "test:report:unified": "ts-node test/scripts/generate-unified-report.ts && echo '📊 统一测试报告已生成: test-results/unified-test-report.html'",
    "test:ci:quick": "npm run test:unit && npm run test:integration",
    "test:ci:full": "npm run test:ci:quick && npm run test:e2e && npm run test:security",
    "test:dev": "npm run test:unit:watch",
    "test:monitoring:stress": "test/scripts/run-monitoring-tests.sh",
    "test:monitoring:setup": "ts-node test/scripts/setup-monitoring-data.js",
    "test:monitoring:cleanup": "ts-node test/scripts/setup-monitoring-data.js cleanup",
    "test:monitoring:full": "test/scripts/run-monitoring-tests.sh --concurrency 10 --duration 60000",
    "test:monitoring:jest-setup": "ts-node test/scripts/setup-test-data-only.js",
    "test:ci:security": "npm run test:security && npm run test:perf:security",
    "test:ci:performance": "npm run test:perf:auth && npm run test:perf:data && npm run test:perf:api",
    "test:ci:modules": "npm run test:unit:auth && npm run test:unit:core && npm run test:unit:alert && npm run test:unit:monitoring",
    "test:debug:auth": "jest --config test/config/jest.unit.config.js test/jest/unit/auth --verbose --no-coverage",
    "test:debug:alert": "jest --config test/config/jest.unit.config.js test/jest/unit/alert --verbose --no-coverage",
    "test:debug:monitoring": "jest --config test/config/jest.unit.config.js test/jest/unit/monitoring --verbose --no-coverage",
    "test:smoke": "npm run test:unit:auth && npm run test:unit:core && npm run test:integration:core",
    "test:regression": "npm run test:all && npm run test:perf:load",
    "test:database": "npm run test:integration:auth && npm run test:integration:monitoring && npm run test:integration:alert",
    "test:cache": "npm run test:unit:cache && npm run test:integration && npm run test:e2e:cache",
    "test:api": "npm run test:e2e:core && npm run test:perf:api:all"
  },
  "overrides": {
    "form-data": "^4.0.0"
  },
  "dependencies": {
    "@liaoliaots/nestjs-redis": "^10.0.0",
    "@nestjs-modules/ioredis": "^2.0.2",
    "@nestjs/axios": "^3.1.3",
    "@nestjs/bull": "^10.2.3",
    "@nestjs/common": "^10.4.20",
    "@nestjs/config": "^3.3.0",
    "@nestjs/core": "^10.4.20",
    "@nestjs/event-emitter": "^3.0.1",
    "@nestjs/jwt": "^11.0.0",
    "@nestjs/mongoose": "^10.1.0",
    "@nestjs/passport": "^11.0.5",
    "@nestjs/platform-express": "^10.4.20",
    "@nestjs/schedule": "^6.0.0",
    "@nestjs/swagger": "^7.4.2",
    "@nestjs/throttler": "^6.4.0",
    "@nestjs/websockets": "^11.1.5",
    "axios": "^1.11.0",
    "bcrypt": "^6.0.0",
    "bcryptjs": "^3.0.2",
    "bull": "^4.16.5",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "glob": "^11.0.3",
    "helmet": "^8.1.0",
    "ioredis": "^5.6.1",
    "longport": "^3.0.8",
    "mongoose": "^7.8.7",
    "passport": "^0.7.0",
    "passport-custom": "^1.1.1",
    "passport-jwt": "^4.0.1",
    "pino": "^9.7.0",
    "pino-http": "^10.5.0",
    "pino-pretty": "^13.0.0",
    "pino-roll": "^3.1.0",
    "reflect-metadata": "^0.1.14",
    "rxjs": "^7.8.2",
    "socket.io": "^4.8.1",
    "swagger-ui-express": "^5.0.1",
    "uuid": "^11.1.0",
    "xss": "^1.0.15"
  },
  "devDependencies": {
    "@golevelup/ts-jest": "^0.7.0",
    "@nestjs/cli": "^10.4.9",
    "@nestjs/platform-socket.io": "^11.1.5",
    "@nestjs/schematics": "^10.2.3",
    "@nestjs/testing": "^10.4.20",
    "@types/axios": "^0.14.4",
    "@types/bcrypt": "^5.0.2",
    "@types/bcryptjs": "^3.0.0",
    "@types/express": "^4.17.23",
    "@types/glob": "^8.1.0",
    "@types/helmet": "^4.0.0",
    "@types/ioredis": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^20.19.9",
    "@types/passport-jwt": "^4.0.1",
    "@types/supertest": "^6.0.3",
    "@types/uuid": "^10.0.0",
    "@typescript-eslint/eslint-plugin": "^8.38.0",
    "@typescript-eslint/parser": "^8.38.0",
    "bun-types": "^1.2.19",
    "eslint": "^8.57.1",
    "eslint-config-prettier": "^10.1.8",
    "eslint-import-resolver-typescript": "^4.4.4",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-prettier": "^5.5.3",
    "jest": "^30.0.5",
    "jest-html-reporter": "^4.3.0",
    "mongodb-memory-server": "^10.1.4",
    "npm-run-all": "^4.1.5",
    "nyc": "^15.1.0",
    "prettier": "^3.6.2",
    "redis-memory-server": "^0.12.1",
    "rimraf": "^5.0.10",
    "socket.io-client": "^4.8.1",
    "supertest": "^7.1.4",
    "ts-jest": "^29.4.0",
    "ts-node": "^10.9.2",
    "typescript": "^5.8.3"
  }
}
