{
  "timestamp": "2025-09-19T12:11:08.419Z",
  "system": {
    "platform": "darwin",
    "arch": "arm64",
    "nodeVersion": "v23.11.0",
    "cpuCount": 10,
    "totalMemory": "16GB",
    "freeMemory": "0GB"
  },
  "benchmarks": {
    "typeScriptCompilation": {
      "singleFile": {
        "command": "npm run typecheck:file -- src/core/03-fetching/stream-data-fetcher/providers/websocket-server.provider.ts",
        "description": "WebSocketServerProvider单文件编译",
        "duration": 814,
        "exitCode": 0,
        "success": true,
        "memoryDelta": {
          "rss": 589824,
          "heapUsed": 169136,
          "external": 203
        },
        "output": "\n> smart-stock-data-system@1.0.0 typecheck:file\n> node scripts/tsc-single-file.js src/core/03-fetching/stream-data-fetcher/providers/websocket-server.provider.ts\n\n",
        "error": ""
      },
      "configFile": {
        "command": "npm run typecheck:file -- src/core/03-fetching/stream-data-fetcher/config/websocket-feature-flags.config.ts",
        "description": "特性开关配置文件编译",
        "duration": 512,
        "exitCode": 0,
        "success": true,
        "memoryDelta": {
          "rss": 147456,
          "heapUsed": 96688,
          "external": 165
        },
        "output": "\n> smart-stock-data-system@1.0.0 typecheck:file\n> node scripts/tsc-single-file.js src/core/03-fetching/stream-data-fetcher/config/websocket-feature-flags.config.ts\n\n",
        "error": ""
      },
      "streamConfig": {
        "command": "npm run typecheck:file -- src/core/03-fetching/stream-data-fetcher/config/stream-config.service.ts",
        "description": "流配置服务文件编译",
        "duration": 546,
        "exitCode": 0,
        "success": true,
        "memoryDelta": {
          "rss": 376832,
          "heapUsed": 110320,
          "external": 156
        },
        "output": "\n> smart-stock-data-system@1.0.0 typecheck:file\n> node scripts/tsc-single-file.js src/core/03-fetching/stream-data-fetcher/config/stream-config.service.ts\n\n",
        "error": ""
      },
      "averageDuration": 624
    },
    "projectBuild": {
      "command": "bun run build",
      "description": "完整项目构建",
      "duration": 1069,
      "exitCode": 0,
      "success": true,
      "memoryDelta": {
        "rss": -4456448,
        "heapUsed": 64520,
        "external": 47
      },
      "output": "",
      "error": "$ bun run compile\n$ tsc -p tsconfig.build.json\n"
    },
    "configurationLoading": {
      "command": "node /Users/honor/Documents/code/newstockapi/backend/test/performance/temp-config-test.js",
      "description": "配置系统加载性能",
      "duration": 24,
      "exitCode": 0,
      "success": true,
      "memoryDelta": {
        "rss": 180224,
        "heapUsed": 101384,
        "external": 85
      },
      "output": "{\"duration\":0.025291000000000174,\"memoryUsed\":5728,\"configsLoaded\":3,\"success\":true}\n",
      "error": "",
      "parsedResult": {
        "duration": 0.025291000000000174,
        "memoryUsed": 5728,
        "configsLoaded": 3,
        "success": true
      }
    },
    "fileSystemOperations": {
      "fileRead": {
        "command": "find src/core/03-fetching/stream-data-fetcher -name \"*.ts\" | head -10 | xargs wc -l",
        "description": "配置文件读取统计",
        "duration": 9,
        "exitCode": 0,
        "success": true,
        "memoryDelta": {
          "rss": 1228800,
          "heapUsed": -505520,
          "external": 253
        },
        "output": "     175 src/core/03-fetching/stream-data-fetcher/interceptors/error-sanitizer.interceptor.ts\n     364 src/core/03-fetching/stream-data-fetcher/config/websocket-feature-flags.config.ts\n     378 src/core/03-fetching/stream-data-fetcher/config/stream-config.service.ts\n     224 src/core/03-fetching/stream-data-fetcher/config/stream-config-defaults.constants.ts\n     246 src/core/03-fetching/stream-data-fetcher/config/stream-recovery.config.ts\n      74 src/core/03-fetching/stream-data-fetcher/module/",
        "error": ""
      },
      "docAccess": {
        "command": "ls -la docs/代码审查文档/重复字段修复计划文档/ | wc -l",
        "description": "文档文件访问测试",
        "duration": 9,
        "exitCode": 0,
        "success": true,
        "memoryDelta": {
          "rss": 81920,
          "heapUsed": 47544,
          "external": 9
        },
        "output": "      30\n",
        "error": ""
      },
      "averageDuration": 9
    },
    "memoryAnalysis": {
      "process": {
        "rss": 33570816,
        "heapTotal": 7127040,
        "heapUsed": 4463952,
        "external": 1586642,
        "arrayBuffers": 11393
      },
      "system": {
        "totalMemory": 17179869184,
        "freeMemory": 583974912,
        "usedMemory": 16595861504
      },
      "recommendations": [],
      "summary": {
        "heapUsedMB": 4,
        "rssMB": 32,
        "efficiency": "13%"
      }
    },
    "performanceComparison": {
      "baseline": {
        "typeScriptCompilation": 1200,
        "projectBuild": 8000,
        "configurationLoading": 50,
        "memoryUsage": 150
      },
      "current": {
        "typeScriptCompilation": 624,
        "projectBuild": 1069,
        "configurationLoading": 0.025291000000000174,
        "memoryUsage": 4
      },
      "improvements": {
        "typeScriptCompilation": {
          "baseline": 1200,
          "current": 624,
          "improvement": 48,
          "status": "improved"
        },
        "projectBuild": {
          "baseline": 8000,
          "current": 1069,
          "improvement": 86.6,
          "status": "improved"
        },
        "configurationLoading": {
          "baseline": 50,
          "current": 0.025291000000000174,
          "improvement": 99.9,
          "status": "improved"
        },
        "memoryUsage": {
          "baseline": 150,
          "current": 4,
          "improvement": 97.3,
          "status": "improved"
        }
      },
      "overall": {
        "averageImprovement": 83,
        "status": "improved"
      }
    }
  },
  "summary": {
    "totalTests": 7,
    "completedTests": 8,
    "averageImprovement": 83,
    "totalDuration": 2986
  }
}