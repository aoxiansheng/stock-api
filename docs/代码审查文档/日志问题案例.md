
## 3. æ—¥å¿—é‡çº§é—®é¢˜ âœ… å·²éªŒè¯ - æ¯”é¢„æœŸä¸¥é‡

### ğŸ”´ é—®é¢˜ç¡®è®¤ï¼šé«˜é¢‘æ—¥å¿—å½±å“æ€§èƒ½

**æ—¥å¿—ç»Ÿè®¡ç»“æœ**ï¼š
- **æ€»æ—¥å¿—è°ƒç”¨**: 60+ ä¸ª (è¶…å‡ºé¢„æœŸ)
- **é«˜é¢‘åœºæ™¯æ—¥å¿—**:
  - `checkMemoryUsage()` æ¯60ç§’æ‰§è¡Œï¼ŒåŒ…å«debugæ—¥å¿—
  - `handleChangeEvent()` å®æ—¶è§¦å‘ï¼Œå¤šä¸ªdebugæ—¥å¿—
  - `recordPerformanceMetrics()` æ¯æ¬¡ç¼“å­˜æ“ä½œéƒ½è®°å½•
- **ç¼ºå¤±æœºåˆ¶**: æ— æ—¥å¿—é‡‡æ ·ã€æ— åŠ¨æ€çº§åˆ«æ§åˆ¶

**æ€§èƒ½å½±å“åˆ†æ**ï¼š
```typescript
// ç¬¬1205è¡Œ - é«˜é¢‘å†…å­˜æ£€æŸ¥æ—¥å¿—
this.logger.debug("Memory usage check", {
  heapUsedMB, heapTotalMB, heapUtilization, totalCacheItems
}); // âš ï¸ æ¯60ç§’æ‰§è¡Œï¼ŒåŒ…å«å¤æ‚å¯¹è±¡åºåˆ—åŒ–

// ç¬¬575è¡Œ - æ¯æ¬¡ç¼“å­˜æ“ä½œçš„æ€§èƒ½æ—¥å¿—
this.logger.log("Symbol mapping performance", {
  provider, symbolsCount, processingTimeMs, hitRatio
}); // âš ï¸ é«˜é¢‘ä¸šåŠ¡æ“ä½œï¼Œå¯èƒ½å½±å“æ€§èƒ½
```

**ä¼°ç®—å½±å“**ï¼š
- ğŸ”´ å•æ¬¡ç¼“å­˜æ“ä½œå¯èƒ½äº§ç”Ÿ 3-5 æ¡æ—¥å¿—
- ğŸ”´ é«˜å¹¶å‘åœºæ™¯ä¸‹æ¯ç§’å¯èƒ½äº§ç”Ÿæ•°ç™¾æ¡æ—¥å¿—
- ğŸ”´ å¯¹è±¡åºåˆ—åŒ–å¼€é”€å¯èƒ½å½±å“ç¼“å­˜æ€§èƒ½

### ğŸ¯ æ—¥å¿—ä¼˜åŒ–æ–¹æ¡ˆ

```typescript
// æ™ºèƒ½æ—¥å¿—é‡‡æ ·ç³»ç»Ÿ
export class SmartLogger {
  private static samplingRates = {
    debug: 0.01,    // 1%é‡‡æ ·ç‡
    log: 0.1,       // 10%é‡‡æ ·ç‡
    warn: 1.0,      // 100%è®°å½•
    error: 1.0      // 100%è®°å½•
  };

  static conditionalLog(level: string, message: string, data?: any) {
    if (Math.random() < this.samplingRates[level]) {
      console[level](message, data);
    }
  }
}
```