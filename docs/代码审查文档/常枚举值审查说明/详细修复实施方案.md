# è·¨ç»„ä»¶é‡å¤é—®é¢˜ - è¯¦ç»†ä¿®å¤å®æ–½æ–¹æ¡ˆ

## 1. StorageClassification æšä¸¾å†²çªä¿®å¤æ–¹æ¡ˆ

### 1.1 é—®é¢˜ç°çŠ¶

ç›®å‰å­˜åœ¨ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„ `StorageClassification` æšä¸¾ï¼š

| æ–‡ä»¶ä½ç½® | æšä¸¾å€¼æ•°é‡ | ç‹¬æœ‰å€¼ |
|---------|-----------|--------|
| `/Users/honor/Documents/code/newstockapi/backend/src/core/shared/types/field-naming.types.ts` | 19ä¸ª | TRADING_DAYS, GLOBAL_STATE, CRYPTO_QUOTE, CRYPTO_BASIC_INFO, STOCK_LOGO, CRYPTO_LOGO, STOCK_NEWS, CRYPTO_NEWS |
| `/Users/honor/Documents/code/newstockapi/backend/src/core/04-storage/storage/enums/storage-type.enum.ts` | 11ä¸ª | æ— ç‹¬æœ‰å€¼ |

### 1.2 è¯¦ç»†ä¿®å¤æ­¥éª¤

#### æ­¥éª¤1: åˆ›å»ºç»Ÿä¸€æšä¸¾æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `/Users/honor/Documents/code/newstockapi/backend/src/core/shared/types/storage-classification.enum.ts`

> **æ¶æ„å†³ç­–è¯´æ˜**: 
> StorageClassification æ”¾ç½®åœ¨ `core/shared/types` è€Œé `common/enums` çš„åŸå› ï¼š
> - ğŸ”’ **å°è£…æ€§**: 100%ä½¿ç”¨åœºæ™¯éƒ½åœ¨Coreå†…éƒ¨7ä¸ªç»„ä»¶
> - ğŸ“ **é—®é¢˜æœ¬åœ°åŒ–**: é‡å¤å®šä¹‰å‘ç”Ÿåœ¨coreå†…éƒ¨ï¼Œåº”åœ¨åŒå±‚çº§è§£å†³  
> - ğŸ—ï¸ **æ¶æ„ä¸€è‡´æ€§**: ä¸ç°æœ‰ `core/shared/types/field-naming.types.ts` ä¿æŒä¸€è‡´
> - âŒ **å¤–éƒ¨æ— ä¾èµ–**: alertã€authã€cacheã€monitoringã€providersç­‰æ¨¡å—å®Œå…¨ä¸ä½¿ç”¨

```typescript
/**
 * ç»Ÿä¸€çš„å­˜å‚¨åˆ†ç±»æšä¸¾å®šä¹‰
 * 
 * @description å®šä¹‰ç³»ç»Ÿä¸­æ‰€æœ‰æ•°æ®å­˜å‚¨åˆ†ç±»ç±»å‹
 * @since 2024-01
 */
export enum StorageClassification {
  // ========== è‚¡ç¥¨ç›¸å…³æ•°æ® ==========
  /** è‚¡ç¥¨å®æ—¶æŠ¥ä»· */
  STOCK_QUOTE = "stock_quote",
  
  /** è‚¡ç¥¨Kçº¿æ•°æ® */
  STOCK_CANDLE = "stock_candle",
  
  /** è‚¡ç¥¨é€ç¬”æ•°æ® */
  STOCK_TICK = "stock_tick",
  
  /** è´¢åŠ¡æŠ¥è¡¨ */
  FINANCIAL_STATEMENT = "financial_statement",
  
  /** è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯ */
  STOCK_BASIC_INFO = "stock_basic_info",
  
  /** è‚¡ç¥¨æ–°é—» */
  STOCK_NEWS = "stock_news",
  
  /** è‚¡ç¥¨Logo */
  STOCK_LOGO = "stock_logo",

  // ========== å¸‚åœºç›¸å…³æ•°æ® ==========
  /** å¸‚åœºæ–°é—» */
  MARKET_NEWS = "market_news",
  
  /** å¸‚åœºçŠ¶æ€ */
  MARKET_STATUS = "market_status",
  
  /** æŒ‡æ•°æŠ¥ä»· */
  INDEX_QUOTE = "index_quote",
  
  /** äº¤æ˜“æ—¥å† */
  TRADING_DAYS = "trading_days",
  
  /** å…¨å±€çŠ¶æ€ */
  GLOBAL_STATE = "global_state",

  // ========== åŠ å¯†è´§å¸ç›¸å…³æ•°æ® ==========
  /** åŠ å¯†è´§å¸æŠ¥ä»· */
  CRYPTO_QUOTE = "crypto_quote",
  
  /** åŠ å¯†è´§å¸åŸºæœ¬ä¿¡æ¯ */
  CRYPTO_BASIC_INFO = "crypto_basic_info",
  
  /** åŠ å¯†è´§å¸Logo */
  CRYPTO_LOGO = "crypto_logo",
  
  /** åŠ å¯†è´§å¸æ–°é—» */
  CRYPTO_NEWS = "crypto_news",

  // ========== äº¤æ˜“ç›¸å…³æ•°æ® ==========
  /** äº¤æ˜“è®¢å• */
  TRADING_ORDER = "trading_order",
  
  /** ç”¨æˆ·æŠ•èµ„ç»„åˆ */
  USER_PORTFOLIO = "user_portfolio",

  // ========== é€šç”¨åˆ†ç±» ==========
  /** é€šç”¨/æœªåˆ†ç±»æ•°æ® */
  GENERAL = "general",
}

/**
 * å­˜å‚¨åˆ†ç±»è¾…åŠ©å‡½æ•°
 */
export const StorageClassificationHelper = {
  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºè‚¡ç¥¨ç›¸å…³åˆ†ç±»
   */
  isStockRelated(classification: StorageClassification): boolean {
    return [
      StorageClassification.STOCK_QUOTE,
      StorageClassification.STOCK_CANDLE,
      StorageClassification.STOCK_TICK,
      StorageClassification.STOCK_BASIC_INFO,
      StorageClassification.STOCK_NEWS,
      StorageClassification.STOCK_LOGO,
      StorageClassification.FINANCIAL_STATEMENT,
    ].includes(classification);
  },

  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºåŠ å¯†è´§å¸ç›¸å…³åˆ†ç±»
   */
  isCryptoRelated(classification: StorageClassification): boolean {
    return [
      StorageClassification.CRYPTO_QUOTE,
      StorageClassification.CRYPTO_BASIC_INFO,
      StorageClassification.CRYPTO_LOGO,
      StorageClassification.CRYPTO_NEWS,
    ].includes(classification);
  },

  /**
   * æ£€æŸ¥æ˜¯å¦ä¸ºå¸‚åœºç›¸å…³åˆ†ç±»
   */
  isMarketRelated(classification: StorageClassification): boolean {
    return [
      StorageClassification.MARKET_NEWS,
      StorageClassification.MARKET_STATUS,
      StorageClassification.INDEX_QUOTE,
      StorageClassification.TRADING_DAYS,
      StorageClassification.GLOBAL_STATE,
    ].includes(classification);
  },

  /**
   * è·å–åˆ†ç±»çš„æ˜¾ç¤ºåç§°
   */
  getDisplayName(classification: StorageClassification): string {
    const names: Record<StorageClassification, string> = {
      [StorageClassification.STOCK_QUOTE]: "è‚¡ç¥¨æŠ¥ä»·",
      [StorageClassification.STOCK_CANDLE]: "Kçº¿æ•°æ®",
      [StorageClassification.STOCK_TICK]: "é€ç¬”æ•°æ®",
      [StorageClassification.FINANCIAL_STATEMENT]: "è´¢åŠ¡æŠ¥è¡¨",
      [StorageClassification.STOCK_BASIC_INFO]: "è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯",
      [StorageClassification.STOCK_NEWS]: "è‚¡ç¥¨æ–°é—»",
      [StorageClassification.STOCK_LOGO]: "è‚¡ç¥¨Logo",
      [StorageClassification.MARKET_NEWS]: "å¸‚åœºæ–°é—»",
      [StorageClassification.MARKET_STATUS]: "å¸‚åœºçŠ¶æ€",
      [StorageClassification.INDEX_QUOTE]: "æŒ‡æ•°æŠ¥ä»·",
      [StorageClassification.TRADING_DAYS]: "äº¤æ˜“æ—¥å†",
      [StorageClassification.GLOBAL_STATE]: "å…¨å±€çŠ¶æ€",
      [StorageClassification.CRYPTO_QUOTE]: "åŠ å¯†è´§å¸æŠ¥ä»·",
      [StorageClassification.CRYPTO_BASIC_INFO]: "åŠ å¯†è´§å¸ä¿¡æ¯",
      [StorageClassification.CRYPTO_LOGO]: "åŠ å¯†è´§å¸Logo",
      [StorageClassification.CRYPTO_NEWS]: "åŠ å¯†è´§å¸æ–°é—»",
      [StorageClassification.TRADING_ORDER]: "äº¤æ˜“è®¢å•",
      [StorageClassification.USER_PORTFOLIO]: "æŠ•èµ„ç»„åˆ",
      [StorageClassification.GENERAL]: "é€šç”¨",
    };
    return names[classification] || classification;
  },
};
```

#### æ­¥éª¤2: åˆ›å»ºå¯¼å‡ºç´¢å¼•æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `/Users/honor/Documents/code/newstockapi/backend/src/core/shared/index.ts`

```typescript
/**
 * ç»Ÿä¸€æšä¸¾å¯¼å‡º
 */
export { StorageClassification, StorageClassificationHelper } from './storage-classification.enum';

// æœªæ¥å¯ä»¥æ·»åŠ å…¶ä»–å…±äº«æšä¸¾
// export { ... } from './other-enum';
```

#### æ­¥éª¤3: æ›´æ–° shared ç»„ä»¶å¼•ç”¨

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/core/shared/types/field-naming.types.ts`

```typescript
/**
 * å­—æ®µå‘½åé‡æ„ç›¸å…³çš„ç±»å‹å®šä¹‰
 * ç”¨äºç»Ÿä¸€ç®¡ç†å’Œæ˜ å°„ä¸åŒç»„ä»¶é—´çš„å­—æ®µå…³ç³»
 */

// ä»ç»Ÿä¸€ä½ç½®å¯¼å…¥
import { StorageClassification } from './storage-classification.enum';

// åˆ é™¤åŸæœ‰çš„ StorageClassification æšä¸¾å®šä¹‰
// export enum StorageClassification { ... }  // åˆ é™¤è¿™éƒ¨åˆ†

// Receiver ç»„ä»¶çš„èƒ½åŠ›ç±»å‹
export type ReceiverType = 
  | "get-stock-quote"
  | "get-stock-basic-info"
  // ... ä¿æŒå…¶ä»–å†…å®¹ä¸å˜

// é‡æ–°å¯¼å‡ºä»¥ä¿æŒå‘åå…¼å®¹
export { StorageClassification };
```

#### æ­¥éª¤4: æ›´æ–° storage ç»„ä»¶å¼•ç”¨

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/core/04-storage/storage/enums/storage-type.enum.ts`

```typescript
/**
 * å­˜å‚¨ç±»å‹æšä¸¾
 */
export enum StorageType {
  STORAGETYPECACHE = "storagetype_cache",
  PERSISTENT = "persistent",
  BOTH = "both",
}

// ä»ç»Ÿä¸€ä½ç½®å¯¼å…¥å¹¶é‡æ–°å¯¼å‡º
import { StorageClassification } from '../../../shared/types/storage-classification.enum';
export { StorageClassification };

// åˆ é™¤åŸæœ‰çš„ StorageClassification æšä¸¾å®šä¹‰
// export enum StorageClassification { ... }  // åˆ é™¤è¿™éƒ¨åˆ†
```

#### æ­¥éª¤5: æ›´æ–° tsconfig paths

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/tsconfig.json`

```json
{
  "compilerOptions": {
    // ... å…¶ä»–é…ç½®
    "paths": {
      "@core/shared": ["src/core/shared/index"],
      "@core/shared/*": ["src/core/shared/*"],
      // ... å…¶ä»–è·¯å¾„æ˜ å°„
    }
  }
}
```

#### æ­¥éª¤6: æ‰¹é‡æ›´æ–°å¯¼å…¥è¯­å¥

æ‰§è¡Œä»¥ä¸‹è„šæœ¬æ‰¹é‡æ›´æ–°æ‰€æœ‰æ–‡ä»¶çš„å¯¼å…¥è¯­å¥ï¼š

```bash
#!/bin/bash
# æ–‡ä»¶ä½ç½®: /Users/honor/Documents/code/newstockapi/backend/scripts/fix-storage-classification-imports.sh

# æŸ¥æ‰¾å¹¶æ›¿æ¢ shared ç»„ä»¶çš„å¯¼å…¥
find ./src -type f -name "*.ts" -exec grep -l "from.*shared/types/field-naming.*StorageClassification" {} \; | while read file; do
  echo "Updating import in: $file"
  # å¦‚æœæ–‡ä»¶åªå¯¼å…¥ StorageClassification
  sed -i '' "s|import { StorageClassification } from '.*shared/types/field-naming.*'|import { StorageClassification } from './storage-classification.enum'|g" "$file"
  # å¦‚æœæ–‡ä»¶å¯¼å…¥å¤šä¸ªå†…å®¹
  sed -i '' "s|import { \(.*\), StorageClassification, \(.*\) } from '.*shared/types/field-naming.*'|import { \1, \2 } from '.*shared/types/field-naming.*';\nimport { StorageClassification } from './storage-classification.enum'|g" "$file"
done

# æŸ¥æ‰¾å¹¶æ›¿æ¢ storage ç»„ä»¶çš„å¯¼å…¥
find ./src -type f -name "*.ts" -exec grep -l "from.*storage/enums/storage-type.*StorageClassification" {} \; | while read file; do
  echo "Updating import in: $file"
  sed -i '' "s|import { StorageClassification } from '.*storage/enums/storage-type.*'|import { StorageClassification } from '../../shared/types/storage-classification.enum'|g" "$file"
done
```

---

## 2. LayerType DTO å†…éƒ¨é‡å¤ä¿®å¤æ–¹æ¡ˆ

### 2.1 é—®é¢˜ç°çŠ¶

`LayerType` æšä¸¾åœ¨ä¸¤ä¸ªä½ç½®é‡å¤å®šä¹‰ï¼š
1. `/Users/honor/Documents/code/newstockapi/backend/src/monitoring/contracts/enums/layer-type.enum.ts`
2. `/Users/honor/Documents/code/newstockapi/backend/src/monitoring/contracts/dto/layer-metrics.dto.ts`

### 2.2 è¯¦ç»†ä¿®å¤æ­¥éª¤

#### æ­¥éª¤1: ä¿®æ”¹ layer-metrics.dto.ts

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/monitoring/contracts/dto/layer-metrics.dto.ts`

```typescript
import { IsDate, IsNumber, IsString, IsOptional, ValidateNested, IsEnum } from 'class-validator';
import { Type } from 'class-transformer';
import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';
// å¯¼å…¥ç»Ÿä¸€çš„ LayerType æšä¸¾
import { LayerType } from '../enums/layer-type.enum';

/**
 * å±‚é—´æ€§èƒ½æŒ‡æ ‡DTOå®šä¹‰
 * ç”¨äºç›‘æ§å„å±‚ä¹‹é—´çš„æ€§èƒ½è¡¨ç°
 */

// åˆ é™¤é‡å¤çš„æšä¸¾å®šä¹‰
// export enum LayerType {
//   COLLECTOR = 'collector',
//   ANALYZER = 'analyzer',
//   PRESENTER = 'presenter'
// }

export enum OperationType {
  DATA_COLLECTION = 'data_collection',
  DATA_ANALYSIS = 'data_analysis',
  CACHE_OPERATION = 'cache_operation',
  DATABASE_OPERATION = 'database_operation',
  // ... å…¶ä»–æ“ä½œç±»å‹
}

export class LayerMetricsDto {
  @ApiProperty({ 
    enum: LayerType,
    description: 'å±‚ç±»å‹',
    example: LayerType.COLLECTOR
  })
  @IsEnum(LayerType)
  sourceLayer: LayerType;

  @ApiProperty({ 
    enum: LayerType,
    description: 'ç›®æ ‡å±‚ç±»å‹',
    example: LayerType.ANALYZER
  })
  @IsEnum(LayerType)
  targetLayer: LayerType;

  // ... å…¶ä»–å­—æ®µ
}
```

#### æ­¥éª¤2: éªŒè¯æ‰€æœ‰å¼•ç”¨ä½ç½®

```bash
#!/bin/bash
# æ–‡ä»¶ä½ç½®: /Users/honor/Documents/code/newstockapi/backend/scripts/verify-layer-type-imports.sh

echo "Checking LayerType imports..."

# æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨ LayerType çš„æ–‡ä»¶
grep -r "LayerType" ./src/monitoring --include="*.ts" | while read -r line; do
  file=$(echo "$line" | cut -d: -f1)
  echo "Found reference in: $file"
  
  # æ£€æŸ¥æ˜¯å¦ä»æ­£ç¡®ä½ç½®å¯¼å…¥
  if grep -q "from.*layer-metrics.dto.*LayerType" "$file"; then
    echo "  âš ï¸  WARNING: Importing LayerType from layer-metrics.dto"
    echo "  Should import from: '../enums/layer-type.enum'"
  fi
done
```

---

## 3. CacheStatsDto å‘½åå†²çªä¿®å¤æ–¹æ¡ˆ

### 3.1 é—®é¢˜ç°çŠ¶

å­˜åœ¨ä¸¤ä¸ªä¸åŒè¯­ä¹‰çš„ `CacheStatsDto`ï¼š
1. `/Users/honor/Documents/code/newstockapi/backend/src/cache/dto/cache-internal.dto.ts`
2. `/Users/honor/Documents/code/newstockapi/backend/src/core/05-caching/common-cache/dto/cache-result.dto.ts`

### 3.2 è¯¦ç»†ä¿®å¤æ­¥éª¤

#### æ­¥éª¤1: é‡å‘½å cache ç»„ä»¶çš„ DTO

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/cache/dto/cache-internal.dto.ts`

```typescript
import { ApiProperty } from '@nestjs/swagger';
import { IsNumber, IsOptional, IsString } from 'class-validator';

/**
 * Redis ç¼“å­˜è¿è¡Œæ—¶ç»Ÿè®¡ DTO
 * @renamed ä» CacheStatsDto é‡å‘½åä»¥é¿å…å‘½åå†²çª
 */
export class RedisCacheRuntimeStatsDto {
  @ApiProperty({ description: 'ç¼“å­˜å‘½ä¸­æ¬¡æ•°' })
  @IsNumber()
  hits: number;

  @ApiProperty({ description: 'ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•°' })
  @IsNumber()
  misses: number;

  @ApiProperty({ description: 'ç¼“å­˜å‘½ä¸­ç‡' })
  @IsNumber()
  hitRate: number;

  @ApiProperty({ description: 'å†…å­˜ä½¿ç”¨é‡ï¼ˆå­—èŠ‚ï¼‰' })
  @IsNumber()
  memoryUsage: number;

  @ApiProperty({ description: 'ç¼“å­˜é”®æ•°é‡' })
  @IsNumber()
  keyCount: number;

  @ApiProperty({ description: 'å¹³å‡TTLï¼ˆç§’ï¼‰' })
  @IsNumber()
  avgTtl: number;
}

// ä¿ç•™åŸåç§°çš„ç±»å‹åˆ«åä»¥ä¿æŒå‘åå…¼å®¹ï¼ˆæ ‡è®°ä¸ºåºŸå¼ƒï¼‰
/**
 * @deprecated ä½¿ç”¨ RedisCacheRuntimeStatsDto æ›¿ä»£
 */
export type CacheStatsDto = RedisCacheRuntimeStatsDto;
```

#### æ­¥éª¤2: æ›´æ–° cache.service.ts

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/cache/services/cache.service.ts`

```typescript
import { 
  RedisCacheRuntimeStatsDto,
  // CacheStatsDto // åˆ é™¤æ—§å¯¼å…¥
} from '../dto/cache-internal.dto';

export class CacheService {
  // ... å…¶ä»–ä»£ç 

  /**
   * è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
   */
  async getStats(): Promise<RedisCacheRuntimeStatsDto> {
    // æ›´æ–°è¿”å›ç±»å‹
    const stats = new RedisCacheRuntimeStatsDto();
    
    // ... ç»Ÿè®¡é€»è¾‘
    
    return stats;
  }

  // ... å…¶ä»–æ–¹æ³•
}
```

#### æ­¥éª¤3: åˆ›å»ºè¿ç§»æŒ‡å—

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/docs/migration/cache-stats-dto-rename.md`

```markdown
# CacheStatsDto é‡å‘½åè¿ç§»æŒ‡å—

## èƒŒæ™¯
ä¸ºè§£å†³å‘½åå†²çªé—®é¢˜ï¼Œ`cache` æ¨¡å—çš„ `CacheStatsDto` å·²é‡å‘½åä¸º `RedisCacheRuntimeStatsDto`ã€‚

## å½±å“èŒƒå›´
- `/src/cache/dto/cache-internal.dto.ts`
- `/src/cache/services/cache.service.ts`
- æ‰€æœ‰å¼•ç”¨ `CacheStatsDto` çš„å¤–éƒ¨æ¨¡å—

## è¿ç§»æ­¥éª¤

### 1. æ›´æ–°å¯¼å…¥è¯­å¥
```typescript
// æ—§ä»£ç 
import { CacheStatsDto } from '@cache/dto/cache-internal.dto';

// æ–°ä»£ç 
import { RedisCacheRuntimeStatsDto } from '@cache/dto/cache-internal.dto';
```

### 2. æ›´æ–°ç±»å‹å£°æ˜
```typescript
// æ—§ä»£ç 
let stats: CacheStatsDto;

// æ–°ä»£ç 
let stats: RedisCacheRuntimeStatsDto;
```

### 3. æ›´æ–°å‡½æ•°ç­¾å
```typescript
// æ—§ä»£ç 
async getStats(): Promise<CacheStatsDto> {

// æ–°ä»£ç 
async getStats(): Promise<RedisCacheRuntimeStatsDto> {
```

## å…¼å®¹æ€§è¯´æ˜
ä¸ºä¿æŒå‘åå…¼å®¹ï¼Œæš‚æ—¶ä¿ç•™äº†ç±»å‹åˆ«åï¼š
```typescript
export type CacheStatsDto = RedisCacheRuntimeStatsDto;
```

æ­¤åˆ«åå°†åœ¨ä¸‹ä¸ªä¸»ç‰ˆæœ¬ä¸­ç§»é™¤ã€‚
```

---

## 4. æ—¶é—´å­—æ®µå‘½åç»Ÿä¸€æ–¹æ¡ˆ

### 4.1 é—®é¢˜ç°çŠ¶

å¤„ç†æ—¶é—´å­—æ®µå‘½åä¸ä¸€è‡´ï¼š
- `processingTime: number`
- `processingTimeMs: number`
- `timestamp: string`ï¼ˆæ˜¾ç¤ºç”¨é€”ï¼‰

### 4.2 è¯¦ç»†ä¿®å¤æ­¥éª¤

#### æ­¥éª¤1: åˆ›å»ºç»Ÿä¸€çš„æ—¶é—´å­—æ®µæ¥å£

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/common/interfaces/time-fields.interface.ts`

```typescript
/**
 * æ ‡å‡†æ—¶é—´å­—æ®µæ¥å£å®šä¹‰
 */

/**
 * æ ‡å‡†æ—¶é—´æˆ³å­—æ®µ
 */
export interface StandardTimestamps {
  /** åˆ›å»ºæ—¶é—´ */
  createdAt: Date;
  
  /** æ›´æ–°æ—¶é—´ */
  updatedAt: Date;
}

/**
 * å¤„ç†æ—¶é—´å­—æ®µ
 */
export interface ProcessingTimeFields {
  /** å¤„ç†è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰ */
  processingTimeMs: number;
  
  /** å¼€å§‹æ—¶é—´ï¼ˆå¯é€‰ï¼‰ */
  startTime?: Date;
  
  /** ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰ */
  endTime?: Date;
}

/**
 * æ˜¾ç¤ºæ—¶é—´å­—æ®µ
 */
export interface DisplayTimeFields {
  /** ISOæ ¼å¼çš„æ—¶é—´æˆ³å­—ç¬¦ä¸²ï¼Œç”¨äºæ˜¾ç¤º */
  timestamp: string;
}

/**
 * æ—¶é—´å­—æ®µè¾…åŠ©å‡½æ•°
 */
export class TimeFieldsHelper {
  /**
   * è®¡ç®—å¤„ç†è€—æ—¶
   */
  static calculateProcessingTime(startTime: Date, endTime: Date = new Date()): number {
    return endTime.getTime() - startTime.getTime();
  }

  /**
   * æ ¼å¼åŒ–ä¸ºæ˜¾ç¤ºæ—¶é—´æˆ³
   */
  static formatTimestamp(date: Date = new Date()): string {
    return date.toISOString();
  }

  /**
   * å°†æ¯«ç§’è½¬æ¢ä¸ºå¯è¯»æ ¼å¼
   */
  static formatDuration(ms: number): string {
    if (ms < 1000) return `${ms}ms`;
    if (ms < 60000) return `${(ms / 1000).toFixed(2)}s`;
    return `${(ms / 60000).toFixed(2)}m`;
  }
}
```

#### æ­¥éª¤2: æ›´æ–° data-fetcher DTO

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/core/03-fetching/data-fetcher/dto/data-fetch-metadata.dto.ts`

```typescript
import { ApiProperty } from '@nestjs/swagger';
import { ProcessingTimeFields } from '../../../../common/interfaces/time-fields.interface';

export class DataFetchMetadataDto implements Partial<ProcessingTimeFields> {
  @ApiProperty({ description: 'æ•°æ®æä¾›å•†' })
  provider: string;

  @ApiProperty({ description: 'èƒ½åŠ›ç±»å‹' })
  capability: string;

  @ApiProperty({ description: 'æˆåŠŸå¤„ç†çš„ç¬¦å·æ•°é‡' })
  symbolsProcessed: number;

  @ApiProperty({ description: 'å¤±è´¥çš„ç¬¦å·åˆ—è¡¨' })
  failedSymbols: string[];

  @ApiProperty({ description: 'é”™è¯¯ä¿¡æ¯åˆ—è¡¨' })
  errors: string[];

  // é‡å‘½åå­—æ®µä»¥ç¬¦åˆæ ‡å‡†
  @ApiProperty({ 
    description: 'å¤„ç†è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰',
    example: 1500
  })
  processingTimeMs: number;  // ä» processingTime é‡å‘½å

  // å‘åå…¼å®¹çš„ getterï¼ˆæ ‡è®°ä¸ºåºŸå¼ƒï¼‰
  /**
   * @deprecated ä½¿ç”¨ processingTimeMs æ›¿ä»£
   */
  get processingTime(): number {
    return this.processingTimeMs;
  }

  set processingTime(value: number) {
    this.processingTimeMs = value;
  }
}
```

#### æ­¥éª¤3: æ›´æ–° transformer DTO

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/core/02-processing/transformer/dto/data-transform-response.dto.ts`

```typescript
import { ApiProperty, ApiPropertyOptional } from "@nestjs/swagger";
import { ProcessingTimeFields, DisplayTimeFields } from '../../../../common/interfaces/time-fields.interface';

export class DataTransformationMetadataDto 
  implements Partial<ProcessingTimeFields>, DisplayTimeFields {
  
  @ApiProperty({ description: "Applied mapping rule ID" })
  ruleId: string;

  @ApiProperty({ description: "Applied mapping rule name" })
  ruleName: string;

  @ApiProperty({ description: "Data provider used" })
  provider: string;

  @ApiProperty({ description: "Data rule list type" })
  transDataRuleListType: string;

  @ApiProperty({ description: "Number of records processed" })
  recordsProcessed: number;

  @ApiProperty({ description: "Number of fields transformed" })
  fieldsTransformed: number;

  // é‡å‘½åå­—æ®µ
  @ApiProperty({
    description: "å¤„ç†è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰",
    example: 250
  })
  processingTimeMs: number;  // ä» processingTime é‡å‘½å

  @ApiProperty({ 
    description: "è½¬æ¢æ—¶é—´æˆ³ï¼ˆISOæ ¼å¼ï¼‰",
    example: "2024-01-15T10:30:00.000Z"
  })
  timestamp: string;  // ä¿ç•™ç”¨äºæ˜¾ç¤º

  @ApiPropertyOptional({ description: "Applied transformations details" })
  transformationsApplied?: Array<{
    sourceField: string;
    targetField: string;
    transformType?: string;
    transformValue?: any;
  }>;

  constructor(
    ruleId: string,
    ruleName: string,
    provider: string,
    transDataRuleListType: string,
    recordsProcessed: number,
    fieldsTransformed: number,
    processingTimeMs: number,  // æ›´æ–°å‚æ•°å
    transformationsApplied?: Array<{
      sourceField: string;
      targetField: string;
      transformType?: string;
      transformValue?: any;
    }>,
  ) {
    this.ruleId = ruleId;
    this.ruleName = ruleName;
    this.provider = provider;
    this.transDataRuleListType = transDataRuleListType;
    this.recordsProcessed = recordsProcessed;
    this.fieldsTransformed = fieldsTransformed;
    this.processingTimeMs = processingTimeMs;
    this.timestamp = new Date().toISOString();
    this.transformationsApplied = transformationsApplied;
  }

  // å‘åå…¼å®¹
  /**
   * @deprecated ä½¿ç”¨ processingTimeMs æ›¿ä»£
   */
  get processingTime(): number {
    return this.processingTimeMs;
  }
}
```

---

## 5. ç»Ÿè®¡å­—æ®µæ ‡å‡†åŒ–æ–¹æ¡ˆ

### 5.1 åˆ›å»ºç»Ÿä¸€çš„ç»Ÿè®¡æ¥å£

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/src/common/interfaces/statistics-fields.interface.ts`

```typescript
/**
 * æ ‡å‡†ç»Ÿè®¡å­—æ®µæ¥å£å®šä¹‰
 */

/**
 * ç¼“å­˜ç»Ÿè®¡å­—æ®µ
 */
export interface CacheStatistics {
  /** ç¼“å­˜å‘½ä¸­æ¬¡æ•° */
  hits: number;
  
  /** ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•° */
  misses: number;
  
  /** ç¼“å­˜å‘½ä¸­ç‡ï¼ˆ0-1ä¹‹é—´çš„å°æ•°ï¼‰ */
  hitRate: number;
}

/**
 * å¤„ç†ç»Ÿè®¡å­—æ®µ
 */
export interface ProcessingStatistics {
  /** æ€»å¤„ç†æ•°é‡ */
  totalCount: number;
  
  /** æˆåŠŸæ•°é‡ */
  successCount: number;
  
  /** å¤±è´¥æ•°é‡ */
  failureCount: number;
  
  /** æˆåŠŸç‡ï¼ˆ0-1ä¹‹é—´çš„å°æ•°ï¼‰ */
  successRate: number;
}

/**
 * æ‰©å±•ç¼“å­˜ç»Ÿè®¡ï¼ˆåŒ…å«Redisç‰¹æœ‰ä¿¡æ¯ï¼‰
 */
export interface ExtendedCacheStatistics extends CacheStatistics {
  /** å†…å­˜ä½¿ç”¨é‡ï¼ˆå­—èŠ‚ï¼‰ */
  memoryUsage: number;
  
  /** ç¼“å­˜é”®æ•°é‡ */
  keyCount: number;
  
  /** å¹³å‡TTLï¼ˆç§’ï¼‰ */
  avgTtl: number;
  
  /** æ€»æ“ä½œæ¬¡æ•° */
  totalOperations: number;
  
  /** å¹³å‡å“åº”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ */
  averageResponseTime?: number;
}

/**
 * ç»Ÿè®¡è¾…åŠ©å‡½æ•°
 */
export class StatisticsHelper {
  /**
   * è®¡ç®—å‘½ä¸­ç‡
   */
  static calculateHitRate(hits: number, misses: number): number {
    const total = hits + misses;
    return total === 0 ? 0 : hits / total;
  }

  /**
   * è®¡ç®—æˆåŠŸç‡
   */
  static calculateSuccessRate(successCount: number, failureCount: number): number {
    const total = successCount + failureCount;
    return total === 0 ? 0 : successCount / total;
  }

  /**
   * æ ¼å¼åŒ–ç™¾åˆ†æ¯”
   */
  static formatPercentage(rate: number, decimals: number = 2): string {
    return `${(rate * 100).toFixed(decimals)}%`;
  }

  /**
   * åˆ›å»ºé»˜è®¤ç¼“å­˜ç»Ÿè®¡å¯¹è±¡
   */
  static createDefaultCacheStats(): CacheStatistics {
    return {
      hits: 0,
      misses: 0,
      hitRate: 0,
    };
  }

  /**
   * åˆ›å»ºé»˜è®¤å¤„ç†ç»Ÿè®¡å¯¹è±¡
   */
  static createDefaultProcessingStats(): ProcessingStatistics {
    return {
      totalCount: 0,
      successCount: 0,
      failureCount: 0,
      successRate: 0,
    };
  }
}
```

---

## 6. éªŒè¯å’Œæµ‹è¯•è„šæœ¬

### 6.1 è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/scripts/verify-refactoring.sh`

```bash
#!/bin/bash

echo "========================================="
echo "è·¨ç»„ä»¶é‡å¤é—®é¢˜ä¿®å¤éªŒè¯è„šæœ¬"
echo "========================================="

# é¢œè‰²å®šä¹‰
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# è®¡æ•°å™¨
ERRORS=0
WARNINGS=0

# 1. æ£€æŸ¥ StorageClassification æšä¸¾
echo -e "\n${YELLOW}1. æ£€æŸ¥ StorageClassification æšä¸¾ç»Ÿä¸€æ€§${NC}"

if [ -f "src/core/shared/types/storage-classification.enum.ts" ]; then
  echo -e "${GREEN}âœ“ ç»Ÿä¸€æšä¸¾æ–‡ä»¶å­˜åœ¨${NC}"
else
  echo -e "${RED}âœ— ç»Ÿä¸€æšä¸¾æ–‡ä»¶ä¸å­˜åœ¨${NC}"
  ((ERRORS++))
fi

# æ£€æŸ¥æ˜¯å¦è¿˜æœ‰é‡å¤å®šä¹‰
DUPLICATE_ENUM=$(grep -r "export enum StorageClassification" ./src --include="*.ts" | wc -l)
if [ "$DUPLICATE_ENUM" -eq 1 ]; then
  echo -e "${GREEN}âœ“ æ— é‡å¤çš„ StorageClassification å®šä¹‰${NC}"
else
  echo -e "${RED}âœ— å‘ç° $DUPLICATE_ENUM ä¸ª StorageClassification å®šä¹‰${NC}"
  grep -r "export enum StorageClassification" ./src --include="*.ts"
  ((ERRORS++))
fi

# 2. æ£€æŸ¥ LayerType é‡å¤
echo -e "\n${YELLOW}2. æ£€æŸ¥ LayerType æšä¸¾é‡å¤${NC}"

LAYERTYPE_COUNT=$(grep -r "export enum LayerType" ./src/monitoring --include="*.ts" | wc -l)
if [ "$LAYERTYPE_COUNT" -eq 1 ]; then
  echo -e "${GREEN}âœ“ LayerType åªæœ‰ä¸€ä¸ªå®šä¹‰${NC}"
else
  echo -e "${RED}âœ— å‘ç° $LAYERTYPE_COUNT ä¸ª LayerType å®šä¹‰${NC}"
  grep -r "export enum LayerType" ./src/monitoring --include="*.ts"
  ((ERRORS++))
fi

# 3. æ£€æŸ¥ CacheStatsDto é‡å‘½å
echo -e "\n${YELLOW}3. æ£€æŸ¥ CacheStatsDto é‡å‘½å${NC}"

if grep -q "export class RedisCacheRuntimeStatsDto" src/cache/dto/cache-internal.dto.ts 2>/dev/null; then
  echo -e "${GREEN}âœ“ RedisCacheRuntimeStatsDto å·²åˆ›å»º${NC}"
else
  echo -e "${YELLOW}âš  RedisCacheRuntimeStatsDto æœªæ‰¾åˆ°${NC}"
  ((WARNINGS++))
fi

# 4. æ£€æŸ¥æ—¶é—´å­—æ®µæ¥å£
echo -e "\n${YELLOW}4. æ£€æŸ¥æ—¶é—´å­—æ®µæ ‡å‡†åŒ–${NC}"

if [ -f "src/common/interfaces/time-fields.interface.ts" ]; then
  echo -e "${GREEN}âœ“ æ—¶é—´å­—æ®µæ¥å£æ–‡ä»¶å­˜åœ¨${NC}"
else
  echo -e "${YELLOW}âš  æ—¶é—´å­—æ®µæ¥å£æ–‡ä»¶ä¸å­˜åœ¨${NC}"
  ((WARNINGS++))
fi

# 5. æ£€æŸ¥ç»Ÿè®¡å­—æ®µæ¥å£
echo -e "\n${YELLOW}5. æ£€æŸ¥ç»Ÿè®¡å­—æ®µæ ‡å‡†åŒ–${NC}"

if [ -f "src/common/interfaces/statistics-fields.interface.ts" ]; then
  echo -e "${GREEN}âœ“ ç»Ÿè®¡å­—æ®µæ¥å£æ–‡ä»¶å­˜åœ¨${NC}"
else
  echo -e "${YELLOW}âš  ç»Ÿè®¡å­—æ®µæ¥å£æ–‡ä»¶ä¸å­˜åœ¨${NC}"
  ((WARNINGS++))
fi

# 6. TypeScript ç¼–è¯‘æ£€æŸ¥
echo -e "\n${YELLOW}6. TypeScript ç¼–è¯‘æ£€æŸ¥${NC}"

npx tsc --noEmit 2>/dev/null
if [ $? -eq 0 ]; then
  echo -e "${GREEN}âœ“ TypeScript ç¼–è¯‘é€šè¿‡${NC}"
else
  echo -e "${RED}âœ— TypeScript ç¼–è¯‘å¤±è´¥${NC}"
  ((ERRORS++))
fi

# ç»“æœæ±‡æ€»
echo -e "\n========================================="
echo -e "éªŒè¯ç»“æœæ±‡æ€»"
echo -e "========================================="
echo -e "é”™è¯¯æ•°: ${RED}$ERRORS${NC}"
echo -e "è­¦å‘Šæ•°: ${YELLOW}$WARNINGS${NC}"

if [ "$ERRORS" -eq 0 ]; then
  echo -e "\n${GREEN}âœ“ æ‰€æœ‰å…³é”®æ£€æŸ¥é€šè¿‡ï¼${NC}"
  exit 0
else
  echo -e "\n${RED}âœ— å‘ç° $ERRORS ä¸ªé”™è¯¯éœ€è¦ä¿®å¤${NC}"
  exit 1
fi
```

### 6.2 å•å…ƒæµ‹è¯•ç¤ºä¾‹

**æ–‡ä»¶**: `/Users/honor/Documents/code/newstockapi/backend/test/common/enums/storage-classification.enum.spec.ts`

```typescript
import { 
  StorageClassification, 
  StorageClassificationHelper 
} from '@core/shared';

describe('StorageClassification', () => {
  describe('æšä¸¾å€¼å®Œæ•´æ€§æµ‹è¯•', () => {
    it('åº”è¯¥åŒ…å«19ä¸ªæšä¸¾å€¼', () => {
      const values = Object.values(StorageClassification);
      expect(values).toHaveLength(19);
    });

    it('åº”è¯¥åŒ…å«æ‰€æœ‰è‚¡ç¥¨ç›¸å…³åˆ†ç±»', () => {
      const stockValues = [
        StorageClassification.STOCK_QUOTE,
        StorageClassification.STOCK_CANDLE,
        StorageClassification.STOCK_TICK,
        StorageClassification.STOCK_BASIC_INFO,
        StorageClassification.STOCK_NEWS,
        StorageClassification.STOCK_LOGO,
        StorageClassification.FINANCIAL_STATEMENT,
      ];
      
      stockValues.forEach(value => {
        expect(Object.values(StorageClassification)).toContain(value);
      });
    });
  });

  describe('StorageClassificationHelper', () => {
    describe('isStockRelated', () => {
      it('åº”è¯¥æ­£ç¡®è¯†åˆ«è‚¡ç¥¨ç›¸å…³åˆ†ç±»', () => {
        expect(StorageClassificationHelper.isStockRelated(
          StorageClassification.STOCK_QUOTE
        )).toBe(true);
        
        expect(StorageClassificationHelper.isStockRelated(
          StorageClassification.CRYPTO_QUOTE
        )).toBe(false);
      });
    });

    describe('getDisplayName', () => {
      it('åº”è¯¥è¿”å›æ­£ç¡®çš„æ˜¾ç¤ºåç§°', () => {
        expect(StorageClassificationHelper.getDisplayName(
          StorageClassification.STOCK_QUOTE
        )).toBe('è‚¡ç¥¨æŠ¥ä»·');
        
        expect(StorageClassificationHelper.getDisplayName(
          StorageClassification.CRYPTO_QUOTE
        )).toBe('åŠ å¯†è´§å¸æŠ¥ä»·');
      });
    });
  });
});
```

---

## 7. å›æ»šæ–¹æ¡ˆ

å¦‚æœä¿®æ”¹åå‡ºç°é—®é¢˜ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å›æ»šæ­¥éª¤ï¼š

### 7.1 Git å›æ»š

```bash
# æŸ¥çœ‹ä¿®æ”¹å‰çš„æäº¤
git log --oneline -n 10

# å›æ»šåˆ°ä¿®æ”¹å‰çš„æäº¤
git revert <commit-hash>

# æˆ–è€…ä½¿ç”¨ resetï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git reset --hard <commit-hash>
```

### 7.2 æ‰‹åŠ¨å›æ»šæ­¥éª¤

1. æ¢å¤åŸæœ‰çš„æšä¸¾å®šä¹‰
2. åˆ é™¤æ–°åˆ›å»ºçš„æ–‡ä»¶
3. æ¢å¤åŸæœ‰çš„å¯¼å…¥è¯­å¥
4. é‡æ–°ç¼–è¯‘å’Œæµ‹è¯•

---

## 8. å®æ–½æ—¶é—´è¡¨

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | è´Ÿè´£äºº |
|------|------|---------|--------|
| ç¬¬1å¤© | StorageClassification æšä¸¾ç»Ÿä¸€ | 4å°æ—¶ | åç«¯å›¢é˜Ÿ |
| ç¬¬1å¤© | LayerType é‡å¤æ¸…ç† | 2å°æ—¶ | åç«¯å›¢é˜Ÿ |
| ç¬¬2å¤© | CacheStatsDto é‡å‘½å | 3å°æ—¶ | åç«¯å›¢é˜Ÿ |
| ç¬¬2å¤© | æ—¶é—´å­—æ®µæ ‡å‡†åŒ– | 3å°æ—¶ | åç«¯å›¢é˜Ÿ |
| ç¬¬3å¤© | ç»Ÿè®¡å­—æ®µæ ‡å‡†åŒ– | 3å°æ—¶ | åç«¯å›¢é˜Ÿ |
| ç¬¬3å¤© | å•å…ƒæµ‹è¯•ç¼–å†™ | 3å°æ—¶ | æµ‹è¯•å›¢é˜Ÿ |
| ç¬¬4å¤© | é›†æˆæµ‹è¯• | 4å°æ—¶ | æµ‹è¯•å›¢é˜Ÿ |
| ç¬¬4å¤© | æ–‡æ¡£æ›´æ–° | 2å°æ—¶ | æ–‡æ¡£å›¢é˜Ÿ |
| ç¬¬5å¤© | ä»£ç å®¡æŸ¥å’Œéƒ¨ç½² | 4å°æ—¶ | å…¨ä½“ |

---

## 9. é£é™©å’Œæ³¨æ„äº‹é¡¹

### 9.1 é£é™©è¯„ä¼°

| é£é™©é¡¹ | å½±å“çº§åˆ« | ç¼“è§£æªæ–½ |
|-------|---------|---------|
| ç ´åç°æœ‰APIå…¼å®¹æ€§ | é«˜ | ä¿ç•™ç±»å‹åˆ«åå’ŒåºŸå¼ƒæ ‡è®° |
| ç¼–è¯‘é”™è¯¯ | ä¸­ | é€æ­¥è¿ç§»ï¼Œæ¯æ­¥éªŒè¯ç¼–è¯‘ |
| è¿è¡Œæ—¶é”™è¯¯ | é«˜ | å……åˆ†çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯• |
| ç¬¬ä¸‰æ–¹ä¾èµ–å†²çª | ä½ | æ£€æŸ¥æ‰€æœ‰å¤–éƒ¨æ¨¡å—å¼•ç”¨ |

### 9.2 æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹æ€§**ï¼šä¿ç•™åŸæœ‰åç§°çš„ç±»å‹åˆ«åï¼Œæ ‡è®°ä¸º `@deprecated`
2. **é€æ­¥è¿ç§»**ï¼šåˆ†é˜¶æ®µå®æ–½ï¼Œæ¯ä¸ªé˜¶æ®µç‹¬ç«‹éªŒè¯
3. **æµ‹è¯•è¦†ç›–**ï¼šç¡®ä¿æ‰€æœ‰ä¿®æ”¹éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
4. **æ–‡æ¡£åŒæ­¥**ï¼šåŠæ—¶æ›´æ–°APIæ–‡æ¡£å’Œå†…éƒ¨æ–‡æ¡£
5. **ç›‘æ§å‘Šè­¦**ï¼šéƒ¨ç½²åå¯†åˆ‡ç›‘æ§ç³»ç»ŸæŒ‡æ ‡

---

## 10. æ£€æŸ¥æ¸…å•

- [ ] åˆ›å»ºç»Ÿä¸€çš„ StorageClassification æšä¸¾æ–‡ä»¶
- [ ] æ›´æ–°æ‰€æœ‰ StorageClassification å¯¼å…¥è¯­å¥
- [ ] åˆ é™¤ LayerType çš„é‡å¤å®šä¹‰
- [ ] é‡å‘½å CacheStatsDto ä¸º RedisCacheRuntimeStatsDto
- [ ] åˆ›å»ºæ—¶é—´å­—æ®µæ ‡å‡†æ¥å£
- [ ] åˆ›å»ºç»Ÿè®¡å­—æ®µæ ‡å‡†æ¥å£
- [ ] æ›´æ–°æ‰€æœ‰å—å½±å“çš„ DTO
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] æ‰§è¡Œé›†æˆæµ‹è¯•
- [ ] æ›´æ–°APIæ–‡æ¡£
- [ ] åˆ›å»ºè¿ç§»æŒ‡å—
- [ ] ä»£ç å®¡æŸ¥
- [ ] éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ